import"../chunks/DsnmJJEf.js";import{o as h,ab as w,ae as _,af as m,ag as S,ac as k,a9 as y,aa as N,Z as O,ad as j,ah as p,P as t}from"../chunks/BW6DIVqk.js";import{t as J,s as f,c as g,a as d,e as L,i as z}from"../chunks/DVn-XYSY.js";import{d as E,s as I}from"../chunks/c3fpkSvR.js";import{p as b}from"../chunks/DLxR1fEb.js";function T(n,a,e,l){var o=n.__style;if(h||o!==a){var r=J(a);(!h||r!==n.getAttribute("style"))&&(r==null?n.removeAttribute("style"):n.style.cssText=r),n.__style=a}return l}var V=(n,a,e)=>{a(!a()),e(!1)},A=(n,a,e)=>{n.preventDefault(),a(!1),e(!e())},D=w("<button><span> </span> <div></div></button>");function M(n,a){let e=b(a,"colspan",3,2),l=b(a,"picked",7,!1),o=b(a,"banned",7,!1);document.addEventListener("keypress",s=>{s.key==="r"&&(s.preventDefault(),l(!1),o(!1))});var r=D();r.__click=[V,l,o],r.__contextmenu=[A,l,o];var c=_(r),u=_(c,!0);m(c);var i=S(c,2);m(r),k(()=>{f(r,1,`relative z-20 flex w-full cursor-pointer justify-center overflow-hidden border-4 bg-black/50 bg-cover bg-clip-padding bg-center transition-colors duration-1000
      ${l()?"border-cat-green":o()?"border-cat-red":"border-palewhite/75"} 
      col-span-${e()??""}`),T(r,`background-image: url('https://wfzq.github.io/Tempus-Tracker/src/data/thumbnails/${a.map??""}.jpg')`),f(c,1,`absolute z-30 flex w-full justify-center bg-gradient-to-b from-75% to-black/0 pt-4 pb-8 transition-colors duration-1000 ${l()?"from-black/50":o()?"from-black-0 text-palewhite/50":"from-black/75"}`),I(u,a.map),f(i,1,`absolute h-full w-full ${l()?"bg-cat-green/25":o()?"bg-cat-red/25":""} transition-colors duration-1000`)}),y(n,r)}E(["click","contextmenu"]);var $=w("<div></div>");function B(n,a){N(a,!0);let e=p(()=>g.get("saved_maps"));O(e,[]);let l=p(c),o=p(()=>Math.ceil(t(e).length/t(l))),r=p(()=>t(e).length%t(o));function c(){switch(!0){case t(e).length<=2:return 1;case t(e).length<=6:return 2;case t(e).length<=9:return 3;case t(e).length<=12:return 4;case t(e).length<=15:return 5;default:return 6}}{const i=JSON.parse(localStorage.getItem("saved_maps"));i&&g.set("saved_maps",i),window.addEventListener("storage",s=>{s.key==="saved_maps"&&g.set(s.key,JSON.parse(s.newValue))});for(const[s,v]of Object.entries(d))d[s]=JSON.parse(localStorage.getItem(s));window.addEventListener("storage",s=>{d[s.key]=JSON.parse(s.newValue)})}var u=$();L(u,21,()=>t(e),z,(i,s,v)=>{{let x=p(()=>t(e).length-v>t(r)?2:Number.parseInt(t(o)*2/t(r)));M(i,{get map(){return t(s)},get colspan(){return t(x)}})}}),m(u),k(i=>f(u,1,`grid grid-cols-${t(o)*2} grid-rows-${t(l)??""} h-screen w-full gap-4 p-4 font-${i??""} text-3xl`),[()=>d.font.toLowerCase()]),y(n,u),j()}export{B as component};
