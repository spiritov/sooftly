import"../chunks/DsnmJJEf.js";import{o as he}from"../chunks/CfOwuUbn.js";import{aD as ke,I as X,o as de,e as fe,aB as ge,T as N,O as n,ac as be,z as D,ah as h,aj as v,ai as m,ag as B,A as F,v as me,R as xe,ak as W,af as $,ab as z,a_ as we,u as ie}from"../chunks/DrV9e9eg.js";import{f as w,d as k,e as ye,b as pe}from"../chunks/Cb6xlI_z.js";import{s as te,t as K,a as oe,f as Se,e as q,i as A,k as le,b as G,r as ee}from"../chunks/Cjjqt-0Q.js";import{i as Ie}from"../chunks/BJw7LXtn.js";import{l as _e,d as H,s as E,e as Oe}from"../chunks/cAXu-K16.js";import{i as j}from"../chunks/9cl3-o1j.js";import{p as V}from"../chunks/ZPXcGY6_.js";import{s as g,c as S,d as Te}from"../chunks/DiToUoMq.js";function ce(t,e,r=e){var s=ke(),u=new WeakSet;_e(t,"input",o=>{var c=o?t.defaultValue:t.value;if(c=ne(t)?se(c):c,r(c),X!==null&&u.add(X),s&&c!==(c=e())){var d=t.selectionStart,f=t.selectionEnd;t.value=c??"",f!==null&&(t.selectionStart=d,t.selectionEnd=Math.min(f,t.value.length))}}),(de&&t.defaultValue!==t.value||fe(e)==null&&t.value)&&(r(ne(t)?se(t.value):t.value),X!==null&&u.add(X)),ge(()=>{var o=e();t===document.activeElement&&u.has(X)||ne(t)&&o===se(t.value)||t.type==="date"&&!o&&!t.value||o!==t.value&&(t.value=o??"")})}function Pe(t,e,r=e){_e(t,"change",s=>{var u=s?t.defaultChecked:t.checked;r(u)}),(de&&t.defaultChecked!==t.checked||fe(e)==null)&&r(t.checked),ge(()=>{var s=e();t.checked=!!s})}function ne(t){var e=t.type;return e==="number"||e==="range"}function se(t){return t===""?null:+t}function Re(t){var e=be(0);return function(){return arguments.length===1?(N(e,n(e)+1),arguments[0]):(n(e),t())}}var We=w('<img class="ml-1 flex h-6 self-center" alt=""/>'),Be=w('<a class="flex h-6 self-center" target="_blank"><img class="ml-1 h-6" src="https://i.imgur.com/sf1ckIB.png" alt=""/></a>'),Ce=w("<button> <!> <!></button>");function U(t,e){D(e,!0);const r=(_,C=me)=>{var b=We();B(()=>oe(b,"src",`https://countryflagsapi.netlify.app/flag/${e.name??""}.svg`)),k(_,b)},s=_=>{var C=Be();B(()=>oe(C,"href",`https://steamcommunity.com/profiles/[U:1:${o()??""}]`)),k(_,C)};let u=V(e,"withFlag",3,!1),o=V(e,"withSteamID",3,""),c=V(e,"isFont",3,!1),d=V(e,"isBestOf",3,!1),f=V(e,"selected",3,!1),p=V(e,"onclick",3,null),l=V(e,"oncontextmenu",3,null);var a=Ce();a.__click=function(..._){p()?.apply(this,_)},a.__contextmenu=function(..._){l()?.apply(this,_)};var i=h(a),y=v(i);{var I=_=>{s(_)};j(y,_=>{o()&&_(I)})}var P=v(y,2);{var R=_=>{r(_,()=>e.name)};j(P,_=>{u()&&_(R)})}m(a),B(_=>{te(a,1,`${_??""}
    ${d()?"px-3":"px-2"}
    ${f()?"brightness-100":"brightness-50 hover:brightness-100"} bg-lavender text-paleblack hover:bg-lavender border-darklavender flex w-fit rounded-md border-b-2 transition-all hover:cursor-pointer`),E(i,`${e.name??""} `)},[()=>c()?`font-${e.name.toLowerCase()}`:""]),K(1,a,()=>Se),k(t,a),F()}H(["click","contextmenu"]);var Y=Re(()=>g),De=w('<div class="relative flex w-96 justify-center gap-1"><span class="absolute left-0">best of</span> <!></div>');function Fe(t,e){D(e,!1);function r(o){Y(Y().bestOf=o*2+1),Y(Y().maxScore=o+1)}Ie();var s=De(),u=v(h(s),2);q(u,0,()=>({length:5}),A,(o,c,d)=>{{let f=xe(()=>(Y().bestOf-1)/2===d);U(o,{name:d*2+1,isBestOf:!0,get selected(){return n(f)},onclick:()=>r(d)})}}),m(s),k(t,s),F()}function Ve(t,e){S.set(e.category,[])}var je=w('<button class=" hover:text-salmon absolute right-0 brightness-50 transition-all hover:cursor-pointer hover:underline hover:brightness-100">remove all</button>');function Me(t,e){D(e,!0);var r=je();r.__click=[Ve,e],k(t,r),F()}H(["click"]);const Ne=t=>{var e=ze();k(t,e)};var ze=ye('<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></g></svg>'),Ee=w('<a class="hover:text-lavender absolute left-0 flex gap-1" href="https://countryflagsapi.netlify.app/country-list" target="_blank"><span> </span> <span class="self-center"><!></span></a>'),Ue=w('<span class="absolute left-0 flex"> </span>'),Je=w('<div class="relative flex w-96 justify-center"><!> <input type="text"/> <!></div>');function Le(t,e){let r=V(e,"onkeypress",3,null),s=W(()=>e.category==="flag");var u=Je(),o=h(u);{var c=l=>{var a=Ee(),i=h(a),y=h(i);m(i);var I=v(i,2),P=h(I);Ne(P),m(I),m(a),B(()=>E(y,`add ${e.category??""}`)),k(l,a)},d=l=>{var a=Ue(),i=h(a);m(a),B(()=>E(i,`add ${e.category??""}`)),k(l,a)};j(o,l=>{n(s)?l(c):l(d,!1)})}var f=v(o,2),p=v(f,2);Me(p,{get category(){return e.category}}),m(u),B(()=>oe(f,"placeholder",n(s)?"alpha-2 code":"")),Oe("keypress",f,function(...l){r()?.apply(this,l)}),k(t,u)}var qe=(t,e)=>N(e,!n(e)),Ae=w('<button class="text-lavender flex w-96 cursor-pointer self-center text-left"> </button>'),Ke=w('<div class="flex w-96 flex-col gap-0.5 self-center"></div>'),Ge=w("<!> <!>",1);function He(t,e){D(e,!0);let r=z(!0),s=W(()=>n(r)?"˅":">");function u(p,l){const a=p.target.value;if(p.key==="Enter"&&a.length>0){const i=S.get(l);if(l==="name")if(g.useWebSocket&&g.useWebSocketToken!==""){const y=/^\d+$/,I=prompt(`ID portion of ${a}'s steamID3
retrievable from https://steamid.uk/
ex [U:1:123456789] -> 123456789`);y.test(I)&&S.set("name",i.concat([{name:a,steamid:I}]))}else S.set("name",i.concat([{name:a}]));else l==="flag"&&a.length===2?S.set("flag",i.concat([a.toUpperCase()])):S.set(l,i.concat([a]));p.target.value=""}}var o=Ge(),c=$(o);le(c,()=>n(r),p=>{var l=Ae();l.__click=[qe,r];var a=h(l);m(l),B(()=>E(a,`${n(s)??""} buttons`)),k(p,l)});var d=v(c,2);{var f=p=>{var l=Ke();q(l,21,()=>S,A,(a,i)=>{var y=W(()=>we(n(i),2));let I=()=>n(y)[0];var P=pe(),R=$(P);{var _=b=>{},C=b=>{Le(b,{get category(){return I()},onkeypress:O=>u(O,I())})};j(R,b=>{!g.useTeams&&I()==="team"?b(_):b(C,!1)})}k(a,P)}),m(l),K(3,l,()=>G,()=>({duration:250})),k(p,l)};j(d,p=>{n(r)&&p(f)})}k(t,o),F()}H(["click"]);var Qe=w('<div class="relative"><span class="absolute left-18">PR</span> <input class="w-32" type="text"/></div>');function Xe(t,e){D(e,!0);let r=V(e,"value",15);var s=Qe(),u=v(h(s),2);ee(u),m(s),ce(u,r),K(3,s,()=>G,()=>({duration:250})),k(t,s),F()}var Ye=w('<div class="button brightness-100 svelte-1um5dd4"> </div>'),Ze=w('<div class="flex w-fit overflow-hidden rounded-md"><button class="button text-xl brightness-50 svelte-1um5dd4">+</button> <!> <button class="button text-xl brightness-50 svelte-1um5dd4">-</button></div>');function $e(t,e){D(e,!0);let r=W(()=>e.side+"Score");function s(f){g[n(r)]=f<=0?0:f>g.maxScore?g.maxScore:f}var u=Ze(),o=h(u);o.__click=()=>s(g[n(r)]+1);var c=v(o,2);le(c,()=>g[n(r)],f=>{var p=Ye(),l=h(p,!0);m(p),B(()=>E(l,g[n(r)])),k(f,p)});var d=v(c,2);d.__click=()=>s(g[n(r)]-1),m(u),k(t,u),F()}H(["click"]);var et=w('<span>team</span> <div class="flex flex-wrap gap-1 px-2"></div>',1),tt=w('<div><span> </span> <div class="flex flex-wrap gap-1 px-2"></div> <span>flag</span> <div class="flex flex-wrap gap-1 px-2"></div> <!> <!> <div class="flex w-full justify-center"><!></div></div>');function ve(t,e){D(e,!0);let r=W(()=>e.side==="left"),s=z(-1),u=z(-1),o=z(-1);function c(b,O){const T=e.side+b;switch(g[T]=S.get(b.toLowerCase())[O],b){case"Name":N(s,O,!0);break;case"Flag":N(u,O,!0);break;case"Team":N(o,O,!0);break}}function d(b,O,T){const x=S.get(O);b.preventDefault(),S.set(O,x.toSpliced(T,1))}var f=tt(),p=h(f),l=h(p);m(p);var a=v(p,2);q(a,21,()=>S.get("name"),A,(b,O,T)=>{var x=pe(),M=$(x);{var J=L=>{{let ae=W(()=>T===n(s));U(L,{get withSteamID(){return n(O).steamid},get name(){return n(O).name},get selected(){return n(ae)},onclick:()=>c("Name",T),oncontextmenu:re=>d(re,"name",T)})}},Q=L=>{{let ae=W(()=>T===n(s));U(L,{get name(){return n(O).name},get selected(){return n(ae)},onclick:()=>c("Name",T),oncontextmenu:re=>d(re,"name",T)})}};j(M,L=>{n(O).steamid?L(J):L(Q,!1)})}k(b,x)}),m(a);var i=v(a,4);q(i,21,()=>S.get("flag"),A,(b,O,T)=>{{let x=W(()=>T===n(u));U(b,{get name(){return n(O)},withFlag:!0,get selected(){return n(x)},onclick:()=>c("Flag",T),oncontextmenu:M=>d(M,"flag",T)})}}),m(i);var y=v(i,2);{var I=b=>{var O=et(),T=v($(O),2);q(T,21,()=>S.get("team"),A,(x,M,J)=>{{let Q=W(()=>J===n(o));U(x,{get name(){return n(M)},get selected(){return n(Q)},onclick:()=>c("Team",J),oncontextmenu:L=>d(L,"team",J)})}}),m(T),k(b,O)};j(y,b=>{g.useTeams&&b(I)})}var P=v(y,2);{var R=b=>{Xe(b,{get value(){return g[e.side+"PR"]},set value(O){g[e.side+"PR"]=O}})};j(P,b=>{g.usePR&&b(R)})}var _=v(P,2),C=h(_);$e(C,{get side(){return e.side}}),m(_),m(f),B(()=>{te(f,1,`flex w-full flex-col gap-2 ${n(r)?"border-palegrey border-r-2":""}`),E(l,`${e.side??""} name`)}),k(t,f),F()}var at=w('<div class="flex flex-wrap"><input type="text" placeholder="token"/> <!> <div class="w-full"></div> <span class="text-palewhite/75 rounded-md bg-black px-1"> </span></div>'),rt=w('<div class="flex flex-row flex-wrap gap-1"><input class="checked:bg-lavender border-palewhite inset-ring-paleblack size-6 cursor-pointer appearance-none self-center rounded-sm border-2 inset-ring-2 transition-colors select-none" type="checkbox"/> <span> </span> <!></div>');function Z(t,e){D(e,!0);let r=V(e,"WebSocket",3,!1),s=V(e,"checked",15),u=z("");var o=rt(),c=h(o);ee(c);var d=v(c,2),f=h(d,!0);m(d);var p=v(d,2);{var l=a=>{var i=at(),y=h(i);ee(y);var I=v(y,2);{let _=W(()=>g.useWebSocketToken!=="");U(I,{name:"set",get selected(){return n(_)},onclick:()=>{g.useWebSocketToken=n(u)}})}var P=v(I,4),R=h(P);m(P),m(i),B(()=>E(R,`token: ${g.useWebSocketToken??""}`)),ce(y,()=>n(u),_=>N(u,_)),K(3,i,()=>G,()=>({duration:250})),k(a,i)};j(p,a=>{r()&&g.useWebSocket&&a(l)})}m(o),B(()=>E(f,e.description)),Pe(c,s),K(3,o,()=>G,()=>({duration:250})),k(t,o),F()}var nt=w('<div class="flex flex-col"><span class="w-full text-left">hue rotation</span> <div class="flex items-center gap-1"><div></div> <span class="w-10"> </span> <input class=" accent-lavender bg-grey h-2 w-64 cursor-pointer appearance-none rounded-full" type="range" min="0" max="360" step="10"/></div></div>');function st(t,e){D(e,!0);let r=V(e,"value",15);var s=nt(),u=v(h(s),2),o=h(u),c=v(o,2),d=h(c);m(c);var f=v(c,2);ee(f),m(u),m(s),B(()=>{te(o,1,`bg-overlay-orange hue-rotate-${r()??""} border-palewhite inset-ring-paleblack size-6 rounded-sm border-2 inset-ring-2 transition-colors select-none`),E(d,`${r()??""}°`)}),ce(f,r),K(3,s,()=>G,()=>({duration:250})),k(t,s),F()}var ot=(t,e)=>N(e,!n(e)),lt=w('<button class="text-lavender flex w-96 cursor-pointer self-center text-left"> </button>'),ct=w('<div class="flex w-96 flex-col gap-0.5 self-center"><span class="text-left">font</span> <div class="flex gap-1"></div> <!> <!> <!> <!> <!> <!></div>'),it=w("<!> <!>",1);function vt(t,e){D(e,!0);const r=["UbuntuMono","Lexend","Montserrat"];let s=z(!0),u=W(()=>n(s)?"˅":">"),o=z(1);function c(a){N(o,a,!0),g.font=r[a]}var d=it(),f=$(d);le(f,()=>n(s),a=>{var i=lt();i.__click=[ot,s];var y=h(i);m(i),B(()=>E(y,`${n(u)??""} overlay`)),k(a,i)});var p=v(f,2);{var l=a=>{var i=ct(),y=v(h(i),2);q(y,21,()=>r,A,(x,M,J)=>{{let Q=W(()=>J===n(o));U(x,{get name(){return n(M)},isFont:!0,get selected(){return n(Q)},onclick:()=>c(J)})}}),m(y);var I=v(y,2);Z(I,{description:"use team colors",get checked(){return g.useTeamColors},set checked(x){g.useTeamColors=x}});var P=v(I,2);{var R=x=>{st(x,{get value(){return g.hueRotate},set value(M){g.hueRotate=M}})};j(P,x=>{g.useTeamColors||x(R)})}var _=v(P,2);Z(_,{description:"use PRs",get checked(){return g.usePR},set checked(x){g.usePR=x}});var C=v(_,2);{var b=x=>{Z(x,{description:"use teams",get checked(){return g.useTeams},set checked(M){g.useTeams=M}})};j(C,x=>{g.useSinglePOV||x(b)})}var O=v(C,2);Z(O,{description:"use single POV",get checked(){return g.useSinglePOV},set checked(x){g.useSinglePOV=x}});var T=v(O,2);Z(T,{description:"use WebSocket timer (requires token)",WebSocket:!0,get checked(){return g.useWebSocket},set checked(x){g.useWebSocket=x}}),m(i),K(3,i,()=>G,()=>({duration:250})),k(a,i)};j(p,a=>{n(s)&&a(l)})}k(t,d),F()}H(["click"]);var ut=(t,e)=>e(),dt=w('<div class="flex w-full flex-col gap-1 px-2"><div class="flex w-full gap-2"><span class="text-left">stage</span> <button class="hover:text-salmon brightness-50 transition-all hover:cursor-pointer hover:underline hover:brightness-100">(reset to default)</button></div> <div class="flex flex-wrap gap-1"></div></div>');function ft(t,e){D(e,!0);let r=z(-1);function s(l){N(r,l,!0),g.stage=S.get("stage")[l]}function u(l,a){const i=S.get("stage");l.preventDefault(),S.set("stage",i.toSpliced(a,1))}function o(){S.set("stage",Te)}var c=dt(),d=h(c),f=v(h(d),2);f.__click=[ut,o],m(d);var p=v(d,2);q(p,21,()=>S.get("stage"),A,(l,a,i)=>{{let y=W(()=>i===n(r));U(l,{get name(){return n(a)},get selected(){return n(y)},onclick:()=>s(i),oncontextmenu:I=>u(I,i)})}}),m(p),m(c),k(t,c),F()}H(["click"]);var gt=w('<div class="w-full px-2 text-left"><span>map</span> <div class="flex flex-wrap gap-1"></div></div>');function mt(t,e){D(e,!0);let r=z(-1);function s(d){N(r,d,!0),g.map=S.get("map")[d]}function u(d,f){const p=S.get("map");d.preventDefault(),S.set("map",p.toSpliced(f,1))}var o=gt(),c=v(h(o),2);q(c,21,()=>S.get("map"),A,(d,f,p)=>{{let l=W(()=>p===n(r));U(d,{get name(){return n(f)},get selected(){return n(l)},onclick:()=>s(p),oncontextmenu:a=>u(a,p)})}}),m(c),m(o),k(t,o),F()}const ue=(t,e=me)=>{var r=pt();B(()=>te(r,1,`border-palegrey my-2 self-center border-1 border-solid ${e()??""}`)),k(t,r)};var pt=w("<hr/>"),_t=w('<div class="flex size-full justify-center"><div class="bg-paleblack my-8 flex w-2xl flex-col items-center gap-2 rounded-md p-4 text-center text-lg"><span class="text-lavender mb-4">tourney overlay</span> <div class="flex flex-col"><!> <!> <!> <!></div> <!> <div class="flex w-full"><!> <!></div> <!> <!></div></div>');function Pt(t,e){D(e,!0);let r=z(!1);he(()=>{for(const[R,_]of S){const C=JSON.parse(localStorage.getItem(`saved_${R}s`));C&&S.set(R,C)}N(r,!0)}),ie(()=>{if(n(r))for(const[R,_]of S)localStorage.setItem(`saved_${R}s`,JSON.stringify(_))}),ie(()=>{for(const[R,_]of Object.entries(g))localStorage.setItem(R,JSON.stringify(_))});var s=_t(),u=h(s),o=v(h(u),2),c=h(o);He(c,{});var d=v(c,2);ue(d,()=>"w-96");var f=v(d,2);vt(f,{});var p=v(f,2);ue(p,()=>"w-96"),m(o);var l=v(o,2);Fe(l,{});var a=v(l,2),i=h(a);ve(i,{side:"left"});var y=v(i,2);ve(y,{side:"right"}),m(a);var I=v(a,2);mt(I,{});var P=v(I,2);ft(P,{}),m(u),m(s),k(t,s),F()}export{Pt as component};
