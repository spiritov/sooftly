import"../chunks/DsnmJJEf.js";import{o as he}from"../chunks/CsbvWBlt.js";import{aq as ke,W as Q,o as de,e as fe,a$ as ge,ah as D,$ as w,ak as h,am as v,al as m,ai as B,a0 as k,aj as F,x as me,C as n,a4 as be,an as T,b1 as xe,ag as Z,B as N,ao as E,af as pe,ap as we,u as ie}from"../chunks/D74pvNIu.js";import{s as te,e as L,i as $,a as g,c as S,d as ye}from"../chunks/BEZs8I71.js";import"../chunks/D2mO90mn.js";import{i as Se}from"../chunks/CyPR0ejN.js";import{r as Ie}from"../chunks/DSSp4FDt.js";import{l as _e,d as G,s as U,e as Oe}from"../chunks/DONB5eq7.js";import{i as j}from"../chunks/Byqm0rjg.js";import{s as oe,r as ee}from"../chunks/CIOOY7hT.js";import{t as K,f as We,k as le,s as A}from"../chunks/D3Z1qQaB.js";import{p as V}from"../chunks/CBHdk9T3.js";function ce(t,e,r=e){var s=ke(),u=new WeakSet;_e(t,"input",o=>{var c=o?t.defaultValue:t.value;if(c=se(t)?ne(c):c,r(c),Q!==null&&u.add(Q),s&&c!==(c=e())){var d=t.selectionStart,f=t.selectionEnd;t.value=c??"",f!==null&&(t.selectionStart=d,t.selectionEnd=Math.min(f,t.value.length))}}),(de&&t.defaultValue!==t.value||fe(e)==null&&t.value)&&(r(se(t)?ne(t.value):t.value),Q!==null&&u.add(Q)),ge(()=>{var o=e();t===document.activeElement&&u.has(Q)||se(t)&&o===ne(t.value)||t.type==="date"&&!o&&!t.value||o!==t.value&&(t.value=o??"")})}function Ce(t,e,r=e){_e(t,"change",s=>{var u=s?t.defaultChecked:t.checked;r(u)}),(de&&t.defaultChecked!==t.checked||fe(e)==null)&&r(t.checked),ge(()=>{var s=e();t.checked=!!s})}function se(t){var e=t.type;return e==="number"||e==="range"}function ne(t){return t===""?null:+t}var Pe=w('<img class="ml-1 flex h-6 self-center" alt=""/>'),Te=w('<a class="flex h-6 self-center" target="_blank"><img class="ml-1 h-6" src="https://i.imgur.com/sf1ckIB.png" alt=""/></a>'),Be=w("<button> <!> <!></button>");function q(t,e){D(e,!0);const r=(_,R=me)=>{var b=Pe();B(()=>oe(b,"src",`https://countryflagsapi.netlify.app/flag/${e.name??""}.svg`)),k(_,b)},s=_=>{var R=Te();B(()=>oe(R,"href",`https://steamcommunity.com/profiles/[U:1:${o()??""}]`)),k(_,R)};let u=V(e,"withFlag",3,!1),o=V(e,"withSteamID",3,""),c=V(e,"isFont",3,!1),d=V(e,"isBestOf",3,!1),f=V(e,"selected",3,!1),p=V(e,"onclick",3,null),l=V(e,"oncontextmenu",3,null);var a=Be();a.__click=function(..._){p()?.apply(this,_)},a.__contextmenu=function(..._){l()?.apply(this,_)};var i=h(a),y=v(i);{var I=_=>{s(_)};j(y,_=>{o()&&_(I)})}var C=v(y,2);{var P=_=>{r(_,()=>e.name)};j(C,_=>{u()&&_(P)})}m(a),B(_=>{te(a,1,`${_??""}
    ${d()?"px-3":"px-2"}
    ${f()?"brightness-100":"brightness-50 hover:brightness-100"} bg-lavender text-paleblack hover:bg-lavender border-darklavender flex w-fit rounded-md border-b-2 transition-all hover:cursor-pointer`),U(i,`${e.name??""} `)},[()=>c()?`font-${e.name.toLowerCase()}`:""]),K(1,a,()=>We),k(t,a),F()}G(["click","contextmenu"]);var X=Ie(()=>g),Re=w('<div class="relative flex w-96 justify-center gap-1"><span class="absolute left-0">best of</span> <!></div>');function De(t,e){D(e,!1);function r(o){X(X().bestOf=o*2+1),X(X().maxScore=o+1)}Se();var s=Re(),u=v(h(s),2);L(u,0,()=>({length:5}),$,(o,c,d)=>{{let f=be(()=>(X().bestOf-1)/2===d);q(o,{name:d*2+1,isBestOf:!0,get selected(){return n(f)},onclick:()=>r(d)})}}),m(s),k(t,s),F()}function Fe(t,e){S.set(e.category,[])}var Ve=w('<button class=" hover:text-salmon absolute right-0 brightness-50 transition-all hover:cursor-pointer hover:underline hover:brightness-100">remove all</button>');function je(t,e){D(e,!0);var r=Ve();r.__click=[Fe,e],k(t,r),F()}G(["click"]);const Me=t=>{var e=Ne();k(t,e)};var Ne=xe('<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></g></svg>'),Ee=w('<a class="hover:text-lavender absolute left-0 flex gap-1" href="https://countryflagsapi.netlify.app/country-list" target="_blank"><span> </span> <span class="self-center"><!></span></a>'),Ue=w('<span class="absolute left-0 flex"> </span>'),qe=w('<div class="relative flex w-96 justify-center"><!> <input type="text"/> <!></div>');function ze(t,e){let r=V(e,"onkeypress",3,null),s=T(()=>e.category==="flag");var u=qe(),o=h(u);{var c=l=>{var a=Ee(),i=h(a),y=h(i);m(i);var I=v(i,2),C=h(I);Me(C),m(I),m(a),B(()=>U(y,`add ${e.category??""}`)),k(l,a)},d=l=>{var a=Ue(),i=h(a);m(a),B(()=>U(i,`add ${e.category??""}`)),k(l,a)};j(o,l=>{n(s)?l(c):l(d,!1)})}var f=v(o,2),p=v(f,2);je(p,{get category(){return e.category}}),m(u),B(()=>oe(f,"placeholder",n(s)?"alpha-2 code":"")),Oe("keypress",f,function(...l){r()?.apply(this,l)}),k(t,u)}var Je=(t,e)=>N(e,!n(e)),Le=w('<button class="text-lavender flex w-96 cursor-pointer self-center text-left"> </button>'),$e=w('<div class="flex w-96 flex-col gap-0.5 self-center"></div>'),Ke=w("<!> <!>",1);function Ae(t,e){D(e,!0);let r=E(!0),s=T(()=>n(r)?"Ë…":">");function u(p,l){const a=p.target.value;if(p.key==="Enter"&&a.length>0){const i=S.get(l);if(l==="name")if(g.useWebSocket&&g.useWebSocketToken!==""){const y=/^\d+$/,I=prompt(`ID portion of ${a}'s steamID3
retrievable from https://steamid.uk/
ex [U:1:123456789] -> 123456789`);y.test(I)&&S.set("name",i.concat([{name:a,steamid:I}]))}else S.set("name",i.concat([{name:a}]));else l==="flag"&&a.length===2?S.set("flag",i.concat([a.toUpperCase()])):S.set(l,i.concat([a]));p.target.value=""}}var o=Ke(),c=Z(o);le(c,()=>n(r),p=>{var l=Le();l.__click=[Je,r];var a=h(l);m(l),B(()=>U(a,`${n(s)??""} buttons`)),k(p,l)});var d=v(c,2);{var f=p=>{var l=$e();L(l,21,()=>S,$,(a,i)=>{var y=T(()=>we(n(i),2));let I=()=>n(y)[0];var C=pe(),P=Z(C);{var _=b=>{},R=b=>{ze(b,{get category(){return I()},onkeypress:O=>u(O,I())})};j(P,b=>{!g.useTeams&&I()==="team"?b(_):b(R,!1)})}k(a,C)}),m(l),K(3,l,()=>A,()=>({duration:250})),k(p,l)};j(d,p=>{n(r)&&p(f)})}k(t,o),F()}G(["click"]);var Ge=w('<div class="relative"><span class="absolute left-18">PR</span> <input class="w-32" type="text"/></div>');function He(t,e){D(e,!0);let r=V(e,"value",15);var s=Ge(),u=v(h(s),2);ee(u),m(s),ce(u,r),K(3,s,()=>A,()=>({duration:250})),k(t,s),F()}var Qe=w('<div class="button brightness-100 svelte-1um5dd4"> </div>'),Xe=w('<div class="flex w-fit overflow-hidden rounded-md"><button class="button text-xl brightness-50 svelte-1um5dd4">+</button> <!> <button class="button text-xl brightness-50 svelte-1um5dd4">-</button></div>');function Ye(t,e){D(e,!0);let r=T(()=>e.side+"Score");function s(f){g[n(r)]=f<=0?0:f>g.maxScore?g.maxScore:f}var u=Xe(),o=h(u);o.__click=()=>s(g[n(r)]+1);var c=v(o,2);le(c,()=>g[n(r)],f=>{var p=Qe(),l=h(p,!0);m(p),B(()=>U(l,g[n(r)])),k(f,p)});var d=v(c,2);d.__click=()=>s(g[n(r)]-1),m(u),k(t,u),F()}G(["click"]);var Ze=w('<span>team</span> <div class="flex flex-wrap gap-1 px-2"></div>',1),et=w('<div><span> </span> <div class="flex flex-wrap gap-1 px-2"></div> <span>flag</span> <div class="flex flex-wrap gap-1 px-2"></div> <!> <!> <div class="flex w-full justify-center"><!></div></div>');function ve(t,e){D(e,!0);let r=T(()=>e.side==="left"),s=E(-1),u=E(-1),o=E(-1);function c(b,O){const W=e.side+b;switch(g[W]=S.get(b.toLowerCase())[O],b){case"Name":N(s,O,!0);break;case"Flag":N(u,O,!0);break;case"Team":N(o,O,!0);break}}function d(b,O,W){const x=S.get(O);b.preventDefault(),S.set(O,x.toSpliced(W,1))}var f=et(),p=h(f),l=h(p);m(p);var a=v(p,2);L(a,21,()=>S.get("name"),$,(b,O,W)=>{var x=pe(),M=Z(x);{var z=J=>{{let ae=T(()=>W===n(s));q(J,{get withSteamID(){return n(O).steamid},get name(){return n(O).name},get selected(){return n(ae)},onclick:()=>c("Name",W),oncontextmenu:re=>d(re,"name",W)})}},H=J=>{{let ae=T(()=>W===n(s));q(J,{get name(){return n(O).name},get selected(){return n(ae)},onclick:()=>c("Name",W),oncontextmenu:re=>d(re,"name",W)})}};j(M,J=>{n(O).steamid?J(z):J(H,!1)})}k(b,x)}),m(a);var i=v(a,4);L(i,21,()=>S.get("flag"),$,(b,O,W)=>{{let x=T(()=>W===n(u));q(b,{get name(){return n(O)},withFlag:!0,get selected(){return n(x)},onclick:()=>c("Flag",W),oncontextmenu:M=>d(M,"flag",W)})}}),m(i);var y=v(i,2);{var I=b=>{var O=Ze(),W=v(Z(O),2);L(W,21,()=>S.get("team"),$,(x,M,z)=>{{let H=T(()=>z===n(o));q(x,{get name(){return n(M)},get selected(){return n(H)},onclick:()=>c("Team",z),oncontextmenu:J=>d(J,"team",z)})}}),m(W),k(b,O)};j(y,b=>{g.useTeams&&b(I)})}var C=v(y,2);{var P=b=>{He(b,{get value(){return g[e.side+"PR"]},set value(O){g[e.side+"PR"]=O}})};j(C,b=>{g.usePR&&b(P)})}var _=v(C,2),R=h(_);Ye(R,{get side(){return e.side}}),m(_),m(f),B(()=>{te(f,1,`flex w-full flex-col gap-2 ${n(r)?"border-palegrey border-r-2":""}`),U(l,`${e.side??""} name`)}),k(t,f),F()}var tt=w('<div class="flex flex-wrap"><input type="text" placeholder="token"/> <!> <div class="w-full"></div> <span class="text-palewhite/75 rounded-md bg-black px-1"> </span></div>'),at=w('<div class="flex flex-row flex-wrap gap-1"><input class="checked:bg-lavender border-palewhite inset-ring-paleblack size-6 cursor-pointer appearance-none self-center rounded-sm border-2 inset-ring-2 transition-colors select-none" type="checkbox"/> <span> </span> <!></div>');function Y(t,e){D(e,!0);let r=V(e,"WebSocket",3,!1),s=V(e,"checked",15),u=E("");var o=at(),c=h(o);ee(c);var d=v(c,2),f=h(d,!0);m(d);var p=v(d,2);{var l=a=>{var i=tt(),y=h(i);ee(y);var I=v(y,2);{let _=T(()=>g.useWebSocketToken!=="");q(I,{name:"set",get selected(){return n(_)},onclick:()=>{g.useWebSocketToken=n(u)}})}var C=v(I,4),P=h(C);m(C),m(i),B(()=>U(P,`token: ${g.useWebSocketToken??""}`)),ce(y,()=>n(u),_=>N(u,_)),K(3,i,()=>A,()=>({duration:250})),k(a,i)};j(p,a=>{r()&&g.useWebSocket&&a(l)})}m(o),B(()=>U(f,e.description)),Ce(c,s),K(3,o,()=>A,()=>({duration:250})),k(t,o),F()}var rt=w('<div class="flex flex-col"><span class="w-full text-left">hue rotation</span> <div class="flex items-center gap-1"><div></div> <span class="w-10"> </span> <input class=" accent-lavender bg-grey h-2 w-64 cursor-pointer appearance-none rounded-full" type="range" min="0" max="360" step="10"/></div></div>');function st(t,e){D(e,!0);let r=V(e,"value",15);var s=rt(),u=v(h(s),2),o=h(u),c=v(o,2),d=h(c);m(c);var f=v(c,2);ee(f),m(u),m(s),B(()=>{te(o,1,`bg-overlay-orange hue-rotate-${r()??""} border-palewhite inset-ring-paleblack size-6 rounded-sm border-2 inset-ring-2 transition-colors select-none`),U(d,`${r()??""}Â°`)}),ce(f,r),K(3,s,()=>A,()=>({duration:250})),k(t,s),F()}var nt=(t,e)=>N(e,!n(e)),ot=w('<button class="text-lavender flex w-96 cursor-pointer self-center text-left"> </button>'),lt=w('<div class="flex w-96 flex-col gap-0.5 self-center"><span class="text-left">font</span> <div class="flex gap-1"></div> <!> <!> <!> <!> <!> <!></div>'),ct=w("<!> <!>",1);function it(t,e){D(e,!0);const r=["UbuntuMono","Lexend","Montserrat"];let s=E(!0),u=T(()=>n(s)?"Ë…":">"),o=E(1);function c(a){N(o,a,!0),g.font=r[a]}var d=ct(),f=Z(d);le(f,()=>n(s),a=>{var i=ot();i.__click=[nt,s];var y=h(i);m(i),B(()=>U(y,`${n(u)??""} overlay`)),k(a,i)});var p=v(f,2);{var l=a=>{var i=lt(),y=v(h(i),2);L(y,21,()=>r,$,(x,M,z)=>{{let H=T(()=>z===n(o));q(x,{get name(){return n(M)},isFont:!0,get selected(){return n(H)},onclick:()=>c(z)})}}),m(y);var I=v(y,2);Y(I,{description:"use team colors",get checked(){return g.useTeamColors},set checked(x){g.useTeamColors=x}});var C=v(I,2);{var P=x=>{st(x,{get value(){return g.hueRotate},set value(M){g.hueRotate=M}})};j(C,x=>{g.useTeamColors||x(P)})}var _=v(C,2);Y(_,{description:"use PRs",get checked(){return g.usePR},set checked(x){g.usePR=x}});var R=v(_,2);{var b=x=>{Y(x,{description:"use teams",get checked(){return g.useTeams},set checked(M){g.useTeams=M}})};j(R,x=>{g.useSinglePOV||x(b)})}var O=v(R,2);Y(O,{description:"use single POV",get checked(){return g.useSinglePOV},set checked(x){g.useSinglePOV=x}});var W=v(O,2);Y(W,{description:"use WebSocket timer (requires token)",WebSocket:!0,get checked(){return g.useWebSocket},set checked(x){g.useWebSocket=x}}),m(i),K(3,i,()=>A,()=>({duration:250})),k(a,i)};j(p,a=>{n(s)&&a(l)})}k(t,d),F()}G(["click"]);var vt=(t,e)=>e(),ut=w('<div class="flex w-full flex-col gap-1 px-2"><div class="flex w-full gap-2"><span class="text-left">stage</span> <button class="hover:text-salmon brightness-50 transition-all hover:cursor-pointer hover:underline hover:brightness-100">(reset to default)</button></div> <div class="flex flex-wrap gap-1"></div></div>');function dt(t,e){D(e,!0);let r=E(-1);function s(l){N(r,l,!0),g.stage=S.get("stage")[l]}function u(l,a){const i=S.get("stage");l.preventDefault(),S.set("stage",i.toSpliced(a,1))}function o(){S.set("stage",ye)}var c=ut(),d=h(c),f=v(h(d),2);f.__click=[vt,o],m(d);var p=v(d,2);L(p,21,()=>S.get("stage"),$,(l,a,i)=>{{let y=T(()=>i===n(r));q(l,{get name(){return n(a)},get selected(){return n(y)},onclick:()=>s(i),oncontextmenu:I=>u(I,i)})}}),m(p),m(c),k(t,c),F()}G(["click"]);var ft=w('<div class="w-full px-2 text-left"><span>map</span> <div class="flex flex-wrap gap-1"></div></div>');function gt(t,e){D(e,!0);let r=E(-1);function s(d){N(r,d,!0),g.map=S.get("map")[d]}function u(d,f){const p=S.get("map");d.preventDefault(),S.set("map",p.toSpliced(f,1))}var o=ft(),c=v(h(o),2);L(c,21,()=>S.get("map"),$,(d,f,p)=>{{let l=T(()=>p===n(r));q(d,{get name(){return n(f)},get selected(){return n(l)},onclick:()=>s(p),oncontextmenu:a=>u(a,p)})}}),m(c),m(o),k(t,o),F()}const ue=(t,e=me)=>{var r=mt();B(()=>te(r,1,`border-palegrey my-2 self-center border-1 border-solid ${e()??""}`)),k(t,r)};var mt=w("<hr/>"),pt=w('<div class="flex size-full justify-center"><div class="bg-paleblack my-8 flex w-2xl flex-col items-center gap-2 rounded-md p-4 text-center text-lg"><span class="text-lavender mb-4">tourney overlay</span> <div class="flex flex-col"><!> <!> <!> <!></div> <!> <div class="flex w-full"><!> <!></div> <!> <!></div></div>');function Pt(t,e){D(e,!0);let r=E(!1);he(()=>{for(const[P,_]of S){const R=JSON.parse(localStorage.getItem(`saved_${P}s`));R&&S.set(P,R)}N(r,!0)}),ie(()=>{if(n(r))for(const[P,_]of S)localStorage.setItem(`saved_${P}s`,JSON.stringify(_))}),ie(()=>{for(const[P,_]of Object.entries(g))localStorage.setItem(P,JSON.stringify(_))});var s=pt(),u=h(s),o=v(h(u),2),c=h(o);Ae(c,{});var d=v(c,2);ue(d,()=>"w-96");var f=v(d,2);it(f,{});var p=v(f,2);ue(p,()=>"w-96"),m(o);var l=v(o,2);De(l,{});var a=v(l,2),i=h(a);ve(i,{side:"left"});var y=v(i,2);ve(y,{side:"right"}),m(a);var I=v(a,2);gt(I,{});var C=v(I,2);dt(C,{}),m(u),m(s),k(t,s),F()}export{Pt as component};
