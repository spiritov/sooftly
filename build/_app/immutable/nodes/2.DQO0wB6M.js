import"../chunks/DsnmJJEf.js";import{o as pe}from"../chunks/DkaaOxfl.js";import{aC as _e,I as G,o as ue,e as de,az as fe,T as M,O as n,aJ as he,aa as B,ab as y,ae as h,ag as v,af as g,ac as T,a9 as b,ad as D,x as ge,R as be,ai as P,b0 as ke,a8 as se,ah as V,b1 as xe,a7 as we,u as ce}from"../chunks/BvyEtBnD.js";import{s as Z,t as L,b as ne,f as ye,e as J,i as U,a as p,d as w,k as le,c as K,r as Y,g as Se}from"../chunks/Ckz4K-ML.js";import{i as Ie}from"../chunks/CU5W0Okf.js";import{l as me,d as A,s as j,e as Oe}from"../chunks/Cp0nVd2g.js";import{i as E}from"../chunks/CT2Gfhmu.js";import{p as F}from"../chunks/DavEHsCV.js";function oe(t,e,r=e){var s=_e(),u=new WeakSet;me(t,"input",l=>{var c=l?t.defaultValue:t.value;if(c=ae(t)?re(c):c,r(c),G!==null&&u.add(G),s&&c!==(c=e())){var d=t.selectionStart,f=t.selectionEnd;t.value=c??"",f!==null&&(t.selectionStart=d,t.selectionEnd=Math.min(f,t.value.length))}}),(ue&&t.defaultValue!==t.value||de(e)==null&&t.value)&&(r(ae(t)?re(t.value):t.value),G!==null&&u.add(G)),fe(()=>{var l=e();t===document.activeElement&&u.has(G)||ae(t)&&l===re(t.value)||t.type==="date"&&!l&&!t.value||l!==t.value&&(t.value=l??"")})}function Ce(t,e,r=e){me(t,"change",s=>{var u=s?t.defaultChecked:t.checked;r(u)}),(ue&&t.defaultChecked!==t.checked||de(e)==null)&&r(t.checked),fe(()=>{var s=e();t.checked=!!s})}function ae(t){var e=t.type;return e==="number"||e==="range"}function re(t){return t===""?null:+t}function Re(t){var e=he(0);return function(){return arguments.length===1?(M(e,n(e)+1),arguments[0]):(n(e),t())}}var We=y('<img class="ml-1 flex h-6 self-center" alt=""/>'),Pe=y('<a class="flex h-6 self-center" target="_blank"><img class="ml-1 h-6" src="https://i.imgur.com/sf1ckIB.png" alt=""/></a>'),Te=y("<button> <!> <!></button>");function z(t,e){B(e,!0);const r=(_,x=ge)=>{var I=We();T(()=>ne(I,"src",`https://countryflagsapi.netlify.app/flag/${e.name??""}.svg`)),b(_,I)},s=_=>{var x=Pe();T(()=>ne(x,"href",`https://steamcommunity.com/profiles/[U:1:${l()??""}]`)),b(_,x)};let u=F(e,"withFlag",3,!1),l=F(e,"withSteamID",3,""),c=F(e,"isFont",3,!1),d=F(e,"isBestOf",3,!1),f=F(e,"selected",3,!1),m=F(e,"onclick",3,null),o=F(e,"oncontextmenu",3,null);var a=Te();a.__click=function(..._){m()?.apply(this,_)},a.__contextmenu=function(..._){o()?.apply(this,_)};var i=h(a),k=v(i);{var S=_=>{s(_)};E(k,_=>{l()&&_(S)})}var R=v(k,2);{var W=_=>{r(_,()=>e.name)};E(R,_=>{u()&&_(W)})}g(a),T(_=>{Z(a,1,`${_??""}
    ${d()?"px-3":"px-2"}
    ${f()?"brightness-100":"brightness-50 hover:brightness-100"} bg-lavender text-paleblack hover:bg-lavender border-darklavender flex w-fit rounded-md border-b-2 transition-all hover:cursor-pointer`),j(i,`${e.name??""} `)},[()=>c()?`font-${e.name.toLowerCase()}`:""]),L(1,a,()=>ye),b(t,a),D()}A(["click","contextmenu"]);var H=Re(()=>p),Be=y('<div class="relative flex w-96 justify-center gap-1"><span class="absolute left-0">best of</span> <!></div>');function De(t,e){B(e,!1);function r(l){H(H().bestOf=l*2+1),H(H().maxScore=l+1)}Ie();var s=Be(),u=v(h(s),2);J(u,0,()=>({length:5}),U,(l,c,d)=>{{let f=be(()=>(H().bestOf-1)/2===d);z(l,{name:d*2+1,isBestOf:!0,get selected(){return n(f)},onclick:()=>r(d)})}}),g(s),b(t,s),D()}function Fe(t,e){w.set(e.category,[])}var Me=y('<button class=" hover:text-salmon absolute right-0 brightness-50 transition-all hover:cursor-pointer hover:underline hover:brightness-100">remove all</button>');function Ve(t,e){B(e,!0);var r=Me();r.__click=[Fe,e],b(t,r),D()}A(["click"]);const je=t=>{var e=Ne();b(t,e)};var Ne=ke('<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></g></svg>'),ze=y('<a class="hover:text-lavender absolute left-0 flex gap-1" href="https://countryflagsapi.netlify.app/country-list" target="_blank"><span> </span> <span class="self-center"><!></span></a>'),Ee=y('<span class="absolute left-0 flex"> </span>'),Je=y('<div class="relative flex w-96 justify-center"><!> <input type="text"/> <!></div>');function Ue(t,e){let r=F(e,"onkeypress",3,null),s=P(()=>e.category==="flag");var u=Je(),l=h(u);{var c=o=>{var a=ze(),i=h(a),k=h(i);g(i);var S=v(i,2),R=h(S);je(R),g(S),g(a),T(()=>j(k,`add ${e.category??""}`)),b(o,a)},d=o=>{var a=Ee(),i=h(a);g(a),T(()=>j(i,`add ${e.category??""}`)),b(o,a)};E(l,o=>{n(s)?o(c):o(d,!1)})}var f=v(l,2),m=v(f,2);Ve(m,{get category(){return e.category}}),g(u),T(()=>ne(f,"placeholder",n(s)?"alpha-2 code":"")),Oe("keypress",f,function(...o){r()?.apply(this,o)}),b(t,u)}var Le=(t,e)=>M(e,!n(e)),qe=y('<button class="text-lavender flex w-96 cursor-pointer self-center text-left"> </button>'),Ke=y('<div class="flex w-96 flex-col gap-0.5 self-center"></div>'),Ae=y("<!> <!>",1);function Ge(t,e){B(e,!0);let r=V(!0),s=P(()=>n(r)?"˅":">");function u(m,o){const a=m.target.value;if(m.key==="Enter"&&a.length>0){const i=w.get(o);if(o==="name")if(p.useWebSocket&&p.useWebSocketToken!==""){const k=/^\d+$/,S=prompt(`ID portion of ${a}'s steamID3
retrievable from https://steamid.uk/
ex [U:1:123456789] -> 123456789`);k.test(S)&&w.set("name",i.concat([{name:a,steamid:S}]))}else w.set("name",i.concat([{name:a}]));else o==="flag"&&a.length===2?w.set("flag",i.concat([a.toUpperCase()])):w.set(o,i.concat([a]));m.target.value=""}}var l=Ae(),c=se(l);le(c,()=>n(r),m=>{var o=qe();o.__click=[Le,r];var a=h(o);g(o),T(()=>j(a,`${n(s)??""} buttons`)),b(m,o)});var d=v(c,2);{var f=m=>{var o=Ke();J(o,21,()=>w,U,(a,i)=>{var k=P(()=>xe(n(i),2));let S=()=>n(k)[0];Ue(a,{get category(){return S()},onkeypress:R=>u(R,S())})}),g(o),L(3,o,()=>K,()=>({duration:250})),b(m,o)};E(d,m=>{n(r)&&m(f)})}b(t,l),D()}A(["click"]);var He=y('<div class="relative"><span class="absolute left-18">PR</span> <input class="w-32" type="text"/></div>');function Qe(t,e){B(e,!0);let r=F(e,"value",15);var s=He(),u=v(h(s),2);Y(u),g(s),oe(u,r),L(3,s,()=>K,()=>({duration:250})),b(t,s),D()}var Xe=y('<div class="button brightness-100 svelte-1um5dd4"> </div>'),Ye=y('<div class="flex w-fit overflow-hidden rounded-md"><button class="button text-xl brightness-50 svelte-1um5dd4">+</button> <!> <button class="button text-xl brightness-50 svelte-1um5dd4">-</button></div>');function Ze(t,e){B(e,!0);let r=P(()=>e.side+"Score");function s(f){p[n(r)]=f<=0?0:f>p.maxScore?p.maxScore:f}var u=Ye(),l=h(u);l.__click=()=>s(p[n(r)]+1);var c=v(l,2);le(c,()=>p[n(r)],f=>{var m=Xe(),o=h(m,!0);g(m),T(()=>j(o,p[n(r)])),b(f,m)});var d=v(c,2);d.__click=()=>s(p[n(r)]-1),g(u),b(t,u),D()}A(["click"]);var $e=y('<div><span> </span> <div class="flex flex-wrap gap-1 px-2"></div> <span>flag</span> <div class="flex flex-wrap gap-1 px-2"></div> <span>team</span> <div class="flex flex-wrap gap-1 px-2"></div> <!> <div class="flex w-full justify-center"><!></div></div>');function ie(t,e){B(e,!0);let r=P(()=>e.side==="left"),s=V(-1),u=V(-1),l=V(-1);function c(x,I){const C=e.side+x;switch(p[C]=w.get(x.toLowerCase())[I],x){case"Name":M(s,I,!0);break;case"Flag":M(u,I,!0);break;case"Team":M(l,I,!0);break}}function d(x,I,C){const O=w.get(I);x.preventDefault(),w.set(I,O.toSpliced(C,1))}var f=$e(),m=h(f),o=h(m);g(m);var a=v(m,2);J(a,21,()=>w.get("name"),U,(x,I,C)=>{var O=we(),N=se(O);{var X=q=>{{let ee=P(()=>C===n(s));z(q,{get withSteamID(){return n(I).steamid},get name(){return n(I).name},get selected(){return n(ee)},onclick:()=>c("Name",C),oncontextmenu:te=>d(te,"name",C)})}},$=q=>{{let ee=P(()=>C===n(s));z(q,{get name(){return n(I).name},get selected(){return n(ee)},onclick:()=>c("Name",C),oncontextmenu:te=>d(te,"name",C)})}};E(N,q=>{n(I).steamid?q(X):q($,!1)})}b(x,O)}),g(a);var i=v(a,4);J(i,21,()=>w.get("flag"),U,(x,I,C)=>{{let O=P(()=>C===n(u));z(x,{get name(){return n(I)},withFlag:!0,get selected(){return n(O)},onclick:()=>c("Flag",C),oncontextmenu:N=>d(N,"flag",C)})}}),g(i);var k=v(i,4);J(k,21,()=>w.get("team"),U,(x,I,C)=>{{let O=P(()=>C===n(l));z(x,{get name(){return n(I)},get selected(){return n(O)},onclick:()=>c("Team",C),oncontextmenu:N=>d(N,"team",C)})}}),g(k);var S=v(k,2);{var R=x=>{Qe(x,{get value(){return p[e.side+"PR"]},set value(I){p[e.side+"PR"]=I}})};E(S,x=>{p.usePR&&x(R)})}var W=v(S,2),_=h(W);Ze(_,{get side(){return e.side}}),g(W),g(f),T(()=>{Z(f,1,`flex w-full flex-col gap-2 ${n(r)?"border-palegrey border-r-2":""}`),j(o,`${e.side??""} name`)}),b(t,f),D()}var et=y('<div class="flex flex-wrap"><input type="text" placeholder="token"/> <!> <div class="w-full"></div> <span class="text-palewhite/75 rounded-md bg-black px-1"> </span></div>'),tt=y('<div class="flex flex-row flex-wrap gap-1"><input class="checked:bg-lavender border-palewhite inset-ring-paleblack size-6 cursor-pointer appearance-none self-center rounded-sm border-2 inset-ring-2 transition-colors select-none" type="checkbox"/> <span> </span> <!></div>');function Q(t,e){B(e,!0);let r=F(e,"WebSocket",3,!1),s=F(e,"checked",15),u=V("");var l=tt(),c=h(l);Y(c);var d=v(c,2),f=h(d,!0);g(d);var m=v(d,2);{var o=a=>{var i=et(),k=h(i);Y(k);var S=v(k,2);{let _=P(()=>p.useWebSocketToken!=="");z(S,{name:"set",get selected(){return n(_)},onclick:()=>{p.useWebSocketToken=n(u)}})}var R=v(S,4),W=h(R);g(R),g(i),T(()=>j(W,`token: ${p.useWebSocketToken??""}`)),oe(k,()=>n(u),_=>M(u,_)),L(3,i,()=>K,()=>({duration:250})),b(a,i)};E(m,a=>{r()&&p.useWebSocket&&a(o)})}g(l),T(()=>j(f,e.description)),Ce(c,s),L(3,l,()=>K,()=>({duration:250})),b(t,l),D()}var at=y('<div class="flex flex-col"><span class="w-full text-left">hue rotation</span> <div class="flex items-center gap-1"><div></div> <span class="w-10"> </span> <input class=" accent-lavender bg-grey h-2 w-64 cursor-pointer appearance-none rounded-full" type="range" min="0" max="360" step="10"/></div></div>');function rt(t,e){B(e,!0);let r=F(e,"value",15);var s=at(),u=v(h(s),2),l=h(u),c=v(l,2),d=h(c);g(c);var f=v(c,2);Y(f),g(u),g(s),T(()=>{Z(l,1,`bg-overlay-orange hue-rotate-${r()??""} border-palewhite inset-ring-paleblack size-6 rounded-sm border-2 inset-ring-2 transition-colors select-none`),j(d,`${r()??""}°`)}),oe(f,r),L(3,s,()=>K,()=>({duration:250})),b(t,s),D()}var nt=(t,e)=>M(e,!n(e)),st=y('<button class="text-lavender flex w-96 cursor-pointer self-center text-left"> </button>'),lt=y('<div class="flex w-96 flex-col gap-0.5 self-center"><span class="text-left">font</span> <div class="flex gap-1"></div> <!> <!> <!> <!> <!> <!></div>'),ot=y("<!> <!>",1);function ct(t,e){B(e,!0);const r=["UbuntuMono","Lexend","Montserrat"];let s=V(!0),u=P(()=>n(s)?"˅":">"),l=V(1);function c(a){M(l,a,!0),p.font=r[a]}var d=ot(),f=se(d);le(f,()=>n(s),a=>{var i=st();i.__click=[nt,s];var k=h(i);g(i),T(()=>j(k,`${n(u)??""} overlay`)),b(a,i)});var m=v(f,2);{var o=a=>{var i=lt(),k=v(h(i),2);J(k,21,()=>r,U,(O,N,X)=>{{let $=P(()=>X===n(l));z(O,{get name(){return n(N)},isFont:!0,get selected(){return n($)},onclick:()=>c(X)})}}),g(k);var S=v(k,2);Q(S,{description:"use team colors",get checked(){return p.useTeamColors},set checked(O){p.useTeamColors=O}});var R=v(S,2);{var W=O=>{rt(O,{get value(){return p.hueRotate},set value(N){p.hueRotate=N}})};E(R,O=>{p.useTeamColors||O(W)})}var _=v(R,2);Q(_,{description:"use PRs",get checked(){return p.usePR},set checked(O){p.usePR=O}});var x=v(_,2);Q(x,{description:"use teams",get checked(){return p.useTeams},set checked(O){p.useTeams=O}});var I=v(x,2);Q(I,{description:"use single POV",get checked(){return p.useSinglePOV},set checked(O){p.useSinglePOV=O}});var C=v(I,2);Q(C,{description:"use WebSocket timer (requires token)",WebSocket:!0,get checked(){return p.useWebSocket},set checked(O){p.useWebSocket=O}}),g(i),L(3,i,()=>K,()=>({duration:250})),b(a,i)};E(m,a=>{n(s)&&a(o)})}b(t,d),D()}A(["click"]);var it=(t,e)=>e(),vt=y('<div class="flex w-full flex-col gap-1 px-2"><div class="flex w-full gap-2"><span class="text-left">stage</span> <button class="hover:text-salmon brightness-50 transition-all hover:cursor-pointer hover:underline hover:brightness-100">(reset to default)</button></div> <div class="flex flex-wrap gap-1"></div></div>');function ut(t,e){B(e,!0);let r=V(-1);function s(o){M(r,o,!0),p.stage=w.get("stage")[o]}function u(o,a){const i=w.get("stage");o.preventDefault(),w.set("stage",i.toSpliced(a,1))}function l(){w.set("stage",Se)}var c=vt(),d=h(c),f=v(h(d),2);f.__click=[it,l],g(d);var m=v(d,2);J(m,21,()=>w.get("stage"),U,(o,a,i)=>{{let k=P(()=>i===n(r));z(o,{get name(){return n(a)},get selected(){return n(k)},onclick:()=>s(i),oncontextmenu:S=>u(S,i)})}}),g(m),g(c),b(t,c),D()}A(["click"]);var dt=y('<div class="w-full px-2 text-left"><span>map</span> <div class="flex flex-wrap gap-1"></div></div>');function ft(t,e){B(e,!0);let r=V(-1);function s(d){M(r,d,!0),p.map=w.get("map")[d]}function u(d,f){const m=w.get("map");d.preventDefault(),w.set("map",m.toSpliced(f,1))}var l=dt(),c=v(h(l),2);J(c,21,()=>w.get("map"),U,(d,f,m)=>{{let o=P(()=>m===n(r));z(d,{get name(){return n(f)},get selected(){return n(o)},onclick:()=>s(m),oncontextmenu:a=>u(a,m)})}}),g(c),g(l),b(t,l),D()}const ve=(t,e=ge)=>{var r=gt();T(()=>Z(r,1,`border-palegrey my-2 self-center border-1 border-solid ${e()??""}`)),b(t,r)};var gt=y("<hr/>"),mt=y('<div class="flex size-full justify-center"><div class="bg-paleblack my-8 flex w-2xl flex-col items-center gap-2 rounded-md p-4 text-center text-lg"><span class="text-lavender mb-4">tourney overlay</span> <div class="flex flex-col"><!> <!> <!> <!></div> <!> <div class="flex w-full"><!> <!></div> <!> <!></div></div>');function St(t,e){B(e,!0);let r=V(!1);pe(()=>{for(const[W,_]of w){const x=JSON.parse(localStorage.getItem(`saved_${W}s`));x&&w.set(W,x)}M(r,!0)}),ce(()=>{if(n(r))for(const[W,_]of w)localStorage.setItem(`saved_${W}s`,JSON.stringify(_))}),ce(()=>{for(const[W,_]of Object.entries(p))localStorage.setItem(W,JSON.stringify(_))});var s=mt(),u=h(s),l=v(h(u),2),c=h(l);Ge(c,{});var d=v(c,2);ve(d,()=>"w-96");var f=v(d,2);ct(f,{});var m=v(f,2);ve(m,()=>"w-96"),g(l);var o=v(l,2);De(o,{});var a=v(o,2),i=h(a);ie(i,{side:"left"});var k=v(i,2);ie(k,{side:"right"}),g(a);var S=v(a,2);ft(S,{});var R=v(S,2);ut(R,{}),g(u),g(s),b(t,s),D()}export{St as component};
