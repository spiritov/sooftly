import"../chunks/DsnmJJEf.js";import{o as ye}from"../chunks/CsbvWBlt.js";import{aq as we,W as X,o as fe,e as me,a$ as ge,ah as B,$ as y,ak as k,am as i,al as g,ai as R,a0 as b,aj as D,x as pe,C as n,a4 as _e,an as C,b1 as Se,ag as Z,B as U,ao as q,af as ke,ap as Ie,u as ce}from"../chunks/D74pvNIu.js";import{i as F}from"../chunks/Byqm0rjg.js";import{s as te,e as J,i as L,a as d,c as I,d as Oe}from"../chunks/DGwUJ0I5.js";import"../chunks/D2mO90mn.js";import{i as he}from"../chunks/CyPR0ejN.js";import{r as be}from"../chunks/DSSp4FDt.js";import{l as xe,d as Q,s as z,e as Pe}from"../chunks/DONB5eq7.js";import{s as oe,r as ee}from"../chunks/CIOOY7hT.js";import{t as K,f as We,k as le,s as H}from"../chunks/D3Z1qQaB.js";import{p as j}from"../chunks/CBHdk9T3.js";function ie(t,e,a=e){var s=we(),c=new WeakSet;xe(t,"input",o=>{var v=o?t.defaultValue:t.value;if(v=se(t)?ne(v):v,a(v),X!==null&&c.add(X),s&&v!==(v=e())){var f=t.selectionStart,m=t.selectionEnd;t.value=v??"",m!==null&&(t.selectionStart=f,t.selectionEnd=Math.min(m,t.value.length))}}),(fe&&t.defaultValue!==t.value||me(e)==null&&t.value)&&(a(se(t)?ne(t.value):t.value),X!==null&&c.add(X)),ge(()=>{var o=e();t===document.activeElement&&c.has(X)||se(t)&&o===ne(t.value)||t.type==="date"&&!o&&!t.value||o!==t.value&&(t.value=o??"")})}function Te(t,e,a=e){xe(t,"change",s=>{var c=s?t.defaultChecked:t.checked;a(c)}),(fe&&t.defaultChecked!==t.checked||me(e)==null)&&a(t.checked),ge(()=>{var s=e();t.checked=!!s})}function se(t){var e=t.type;return e==="number"||e==="range"}function ne(t){return t===""?null:+t}var Ce=y('<img class="ml-1 flex h-6 self-center" alt=""/>'),Re=y('<a class="flex h-6 self-center" target="_blank"><img class="ml-1 h-6" src="https://i.imgur.com/sf1ckIB.png" alt=""/></a>'),Be=y("<button> <!> <!></button>");function E(t,e){B(e,!0);const a=(h,P=pe)=>{var _=Ce();R(()=>oe(_,"src",`https://countryflagsapi.netlify.app/flag/${e.name??""}.svg`)),b(h,_)},s=h=>{var P=Re();R(()=>oe(P,"href",`https://steamcommunity.com/profiles/[U:1:${o()??""}]`)),b(h,P)};let c=j(e,"withFlag",3,!1),o=j(e,"withSteamID",3,""),v=j(e,"isFont",3,!1),f=j(e,"isBestOf",3,!1),m=j(e,"selected",3,!1),p=j(e,"onclick",3,null),l=j(e,"oncontextmenu",3,null);var r=Be();r.__click=function(...h){p()?.apply(this,h)},r.__contextmenu=function(...h){l()?.apply(this,h)};var u=k(r),x=i(u);{var O=h=>{s(h)};F(x,h=>{o()&&h(O)})}var T=i(x,2);{var V=h=>{a(h,()=>e.name)};F(T,h=>{c()&&h(V)})}g(r),R(h=>{te(r,1,`${h??""}
    ${f()?"px-3":"px-2"}
    ${m()?"brightness-100":"brightness-50 hover:brightness-100"} bg-lavender text-paleblack hover:bg-lavender border-darklavender flex w-fit rounded-md border-b-2 transition-all hover:cursor-pointer`),z(u,`${e.name??""} `)},[()=>v()?`font-${e.name.toLowerCase()}`:""]),K(1,r,()=>We),b(t,r),D()}Q(["click","contextmenu"]);var Y=be(()=>d),De=y('<div class="relative flex w-96 justify-center gap-1"><span class="absolute left-0">best of</span> <!></div>');function Ve(t,e){B(e,!1);function a(o){Y(Y().bestOf=o*2+1),Y(Y().maxScore=o+1)}he();var s=De(),c=i(k(s),2);J(c,0,()=>({length:5}),L,(o,v,f)=>{{let m=_e(()=>(Y().bestOf-1)/2===f);E(o,{name:f*2+1,isBestOf:!0,get selected(){return n(m)},onclick:()=>a(f)})}}),g(s),b(t,s),D()}function Fe(t,e){I.set(e.category,[])}var je=y('<button class=" hover:text-salmon absolute right-0 brightness-50 transition-all hover:cursor-pointer hover:underline hover:brightness-100">remove all</button>');function Me(t,e){B(e,!0);var a=je();a.__click=[Fe,e],b(t,a),D()}Q(["click"]);const $e=t=>{var e=Ne();b(t,e)};var Ne=Se('<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></g></svg>'),Ee=y('<a class="hover:text-lavender absolute left-0 flex gap-1" href="https://countryflagsapi.netlify.app/country-list" target="_blank"><span> </span> <span class="self-center"><!></span></a>'),Ue=y('<span class="absolute left-0 flex"> </span>'),qe=y('<div class="relative flex w-96 justify-center"><!> <input type="text"/> <!></div>');function ze(t,e){let a=j(e,"onkeypress",3,null),s=C(()=>e.category==="flag");var c=qe(),o=k(c);{var v=l=>{var r=Ee(),u=k(r),x=k(u);g(u);var O=i(u,2),T=k(O);$e(T),g(O),g(r),R(()=>z(x,`add ${e.category??""}`)),b(l,r)},f=l=>{var r=Ue(),u=k(r);g(r),R(()=>z(u,`add ${e.category??""}`)),b(l,r)};F(o,l=>{n(s)?l(v):l(f,!1)})}var m=i(o,2),p=i(m,2);Me(p,{get category(){return e.category}}),g(c),R(()=>oe(m,"placeholder",n(s)?"alpha-2 code":"")),Pe("keypress",m,function(...l){a()?.apply(this,l)}),b(t,c)}var Je=(t,e)=>U(e,!n(e)),Le=y('<button class="text-lavender flex w-96 cursor-pointer self-center text-left"> </button>'),Ke=y('<div class="flex w-96 flex-col gap-0.5 self-center"></div>'),Ae=y("<!> <!>",1);function Ge(t,e){B(e,!0);let a=q(!0),s=C(()=>n(a)?"Ë…":">");function c(p,l){const r=p.target.value;if(p.key==="Enter"&&r.length>0){const u=I.get(l);if(l==="name")if(d.useWebSocket&&d.useWebSocketToken!==""){const x=/^\d+$/,O=prompt(`ID portion of ${r}'s steamID3
retrievable from https://steamid.uk/
ex [U:1:123456789] -> 123456789`);x.test(O)&&I.set("name",u.concat([{name:r,steamid:O}]))}else I.set("name",u.concat([{name:r}]));else l==="flag"&&r.length===2?I.set("flag",u.concat([r.toUpperCase()])):I.set(l,u.concat([r]));p.target.value=""}}var o=Ae(),v=Z(o);le(v,()=>n(a),p=>{var l=Le();l.__click=[Je,a];var r=k(l);g(l),R(()=>z(r,`${n(s)??""} buttons`)),b(p,l)});var f=i(v,2);{var m=p=>{var l=Ke();J(l,21,()=>I,L,(r,u)=>{var x=C(()=>Ie(n(u),2));let O=()=>n(x)[0];var T=ke(),V=Z(T);{var h=_=>{},P=_=>{ze(_,{get category(){return O()},onkeypress:w=>c(w,O())})};F(V,_=>{!d.useTeams&&O()==="team"?_(h):_(P,!1)})}b(r,T)}),g(l),K(3,l,()=>H,()=>({duration:250})),b(p,l)};F(f,p=>{n(a)&&p(m)})}b(t,o),D()}Q(["click"]);var He=y('<div class="relative"><span class="absolute left-18">PR</span> <input class="w-32" type="text"/></div>');function Qe(t,e){B(e,!0);let a=j(e,"value",15);var s=He(),c=i(k(s),2);ee(c),g(s),ie(c,a),K(3,s,()=>H,()=>({duration:250})),b(t,s),D()}var Xe=y('<div class="button brightness-100 svelte-1um5dd4"> </div>'),Ye=y('<div class="flex w-fit overflow-hidden rounded-md"><button class="button text-xl brightness-50 svelte-1um5dd4">+</button> <!> <button class="button text-xl brightness-50 svelte-1um5dd4">-</button></div>');function Ze(t,e){B(e,!0);let a=C(()=>e.side+"Score");function s(m){d[n(a)]=m<=0?0:m>d.maxScore?d.maxScore:m}var c=Ye(),o=k(c);o.__click=()=>s(d[n(a)]+1);var v=i(o,2);le(v,()=>d[n(a)],m=>{var p=Xe(),l=k(p,!0);g(p),R(()=>z(l,d[n(a)])),b(m,p)});var f=i(v,2);f.__click=()=>s(d[n(a)]-1),g(c),b(t,c),D()}Q(["click"]);var et=y('<span>team</span> <div class="flex flex-wrap gap-1 px-2"></div>',1),tt=y('<div><span> </span> <div class="flex flex-wrap gap-1 px-2"></div> <span>flag</span> <div class="flex flex-wrap gap-1 px-2"></div> <!> <!> <div class="flex w-full justify-center"><!></div></div>');function ve(t,e){B(e,!0);let a=C(()=>e.side==="left"),s=q(-1),c=q(-1),o=q(-1);function v(_,w){const W=e.side+_;switch(d[W]=I.get(_.toLowerCase())[w],_){case"Name":U(s,w,!0);break;case"Flag":U(c,w,!0);break;case"Team":U(o,w,!0);break}}function f(_,w,W){const $=I.get(w);_.preventDefault(),I.set(w,$.toSpliced(W,1))}var m=tt(),p=k(m),l=k(p);g(p);var r=i(p,2);J(r,21,()=>I.get("name"),L,(_,w,W)=>{var $=ke(),S=Z($);{var M=N=>{{let ae=C(()=>W===n(s));E(N,{get withSteamID(){return n(w).steamid},get name(){return n(w).name},get selected(){return n(ae)},onclick:()=>v("Name",W),oncontextmenu:re=>f(re,"name",W)})}},A=N=>{{let ae=C(()=>W===n(s));E(N,{get name(){return n(w).name},get selected(){return n(ae)},onclick:()=>v("Name",W),oncontextmenu:re=>f(re,"name",W)})}};F(S,N=>{n(w).steamid?N(M):N(A,!1)})}b(_,$)}),g(r);var u=i(r,4);J(u,21,()=>I.get("flag"),L,(_,w,W)=>{{let $=C(()=>W===n(c));E(_,{get name(){return n(w)},withFlag:!0,get selected(){return n($)},onclick:()=>v("Flag",W),oncontextmenu:S=>f(S,"flag",W)})}}),g(u);var x=i(u,2);{var O=_=>{var w=et(),W=i(Z(w),2);J(W,21,()=>I.get("team"),L,($,S,M)=>{{let A=C(()=>M===n(o));E($,{get name(){return n(S)},get selected(){return n(A)},onclick:()=>v("Team",M),oncontextmenu:N=>f(N,"team",M)})}}),g(W),b(_,w)};F(x,_=>{d.useTeams&&_(O)})}var T=i(x,2);{var V=_=>{Qe(_,{get value(){return d[e.side+"PR"]},set value(w){d[e.side+"PR"]=w}})};F(T,_=>{d.usePR&&_(V)})}var h=i(T,2),P=k(h);Ze(P,{get side(){return e.side}}),g(h),g(m),R(()=>{te(m,1,`flex w-full flex-col gap-2 ${n(a)?"border-palegrey border-r-2":""}`),z(l,`${e.side??""} name`)}),b(t,m),D()}var at=y('<div class="flex flex-wrap"><input type="text" placeholder="token"/> <!> <div class="w-full"></div> <span class="text-palewhite/75 rounded-md bg-black px-1"> </span></div>'),rt=y('<div class="flex flex-row flex-wrap gap-1"><input class="checked:bg-lavender border-palewhite inset-ring-paleblack size-6 cursor-pointer appearance-none self-center rounded-sm border-2 inset-ring-2 transition-colors select-none" type="checkbox"/> <span> </span> <!></div>');function G(t,e){B(e,!0);let a=j(e,"WebSocket",3,!1),s=j(e,"checked",15),c=q("");var o=rt(),v=k(o);ee(v);var f=i(v,2),m=k(f,!0);g(f);var p=i(f,2);{var l=r=>{var u=at(),x=k(u);ee(x);var O=i(x,2);{let h=C(()=>d.useWebSocketToken!=="");E(O,{name:"set",get selected(){return n(h)},onclick:()=>{d.useWebSocketToken=n(c)}})}var T=i(O,4),V=k(T);g(T),g(u),R(()=>z(V,`token: ${d.useWebSocketToken??""}`)),ie(x,()=>n(c),h=>U(c,h)),K(3,u,()=>H,()=>({duration:250})),b(r,u)};F(p,r=>{a()&&d.useWebSocket&&r(l)})}g(o),R(()=>z(m,e.description)),Te(v,s),K(3,o,()=>H,()=>({duration:250})),b(t,o),D()}var st=y('<div class="flex flex-col"><span class="w-full text-left">hue rotation</span> <div class="flex items-center gap-1"><div></div> <span class="w-10"> </span> <input class=" accent-lavender bg-grey h-2 w-64 cursor-pointer appearance-none rounded-full" type="range" min="0" max="360" step="10"/></div></div>');function nt(t,e){B(e,!0);let a=j(e,"value",15);var s=st(),c=i(k(s),2),o=k(c),v=i(o,2),f=k(v);g(v);var m=i(v,2);ee(m),g(c),g(s),R(()=>{te(o,1,`bg-overlay-orange hue-rotate-${a()??""} border-palewhite inset-ring-paleblack size-6 rounded-sm border-2 inset-ring-2 transition-colors select-none`),z(f,`${a()??""}Â°`)}),ie(m,a),K(3,s,()=>H,()=>({duration:250})),b(t,s),D()}var ot=(t,e)=>U(e,!n(e)),lt=y('<button class="text-lavender flex w-96 cursor-pointer self-center text-left"> </button>'),it=y('<div class="flex w-96 flex-col gap-0.5 self-center"><span class="text-left">font</span> <div class="flex gap-1"></div> <!> <!> <!> <!> <!> <!> <!></div>'),ct=y("<!> <!>",1);function vt(t,e){B(e,!0);const a=["UbuntuMono","Lexend","Montserrat"];let s=q(!0),c=C(()=>n(s)?"Ë…":">"),o=q(1);function v(r){U(o,r,!0),d.font=a[r]}var f=ct(),m=Z(f);le(m,()=>n(s),r=>{var u=lt();u.__click=[ot,s];var x=k(u);g(u),R(()=>z(x,`${n(c)??""} overlay`)),b(r,u)});var p=i(m,2);{var l=r=>{var u=it(),x=i(k(u),2);J(x,21,()=>a,L,(S,M,A)=>{{let N=C(()=>A===n(o));E(S,{get name(){return n(M)},isFont:!0,get selected(){return n(N)},onclick:()=>v(A)})}}),g(x);var O=i(x,2);G(O,{description:"display POV dimensions",get checked(){return d.usePOVDimensions},set checked(S){d.usePOVDimensions=S}});var T=i(O,2);G(T,{description:"use team colors",get checked(){return d.useTeamColors},set checked(S){d.useTeamColors=S}});var V=i(T,2);{var h=S=>{nt(S,{get value(){return d.hueRotate},set value(M){d.hueRotate=M}})};F(V,S=>{d.useTeamColors||S(h)})}var P=i(V,2);G(P,{description:"display PRs",get checked(){return d.usePR},set checked(S){d.usePR=S}});var _=i(P,2);{var w=S=>{G(S,{description:"use teams",get checked(){return d.useTeams},set checked(M){d.useTeams=M}})};F(_,S=>{d.useSinglePOV||S(w)})}var W=i(_,2);G(W,{description:"use single POV",get checked(){return d.useSinglePOV},set checked(S){d.useSinglePOV=S}});var $=i(W,2);G($,{description:"use WebSocket timer (requires token)",WebSocket:!0,get checked(){return d.useWebSocket},set checked(S){d.useWebSocket=S}}),g(u),K(3,u,()=>H,()=>({duration:250})),b(r,u)};F(p,r=>{n(s)&&r(l)})}b(t,f),D()}Q(["click"]);var ue=be(()=>d),ut=y('<div class="relative flex w-96 justify-center gap-1"><!></div>');function dt(t,e){B(e,!1),he();var a=ut(),s=k(a);{let c=_e(()=>ue(ue().resetPulse=!0));E(s,{name:"reset timers (untested)",get onclick(){return n(c)}})}g(a),b(t,a),D()}var ft=(t,e)=>e(),mt=y('<div class="flex w-full flex-col gap-1 px-2"><div class="flex w-full gap-2"><span class="text-left">stage</span> <button class="hover:text-salmon brightness-50 transition-all hover:cursor-pointer hover:underline hover:brightness-100">(reset to default)</button></div> <div class="flex flex-wrap gap-1"></div></div>');function gt(t,e){B(e,!0);let a=q(-1);function s(l){U(a,l,!0),d.stage=I.get("stage")[l]}function c(l,r){const u=I.get("stage");l.preventDefault(),I.set("stage",u.toSpliced(r,1))}function o(){I.set("stage",Oe)}var v=mt(),f=k(v),m=i(k(f),2);m.__click=[ft,o],g(f);var p=i(f,2);J(p,21,()=>I.get("stage"),L,(l,r,u)=>{{let x=C(()=>u===n(a));E(l,{get name(){return n(r)},get selected(){return n(x)},onclick:()=>s(u),oncontextmenu:O=>c(O,u)})}}),g(p),g(v),b(t,v),D()}Q(["click"]);var pt=y('<div class="w-full px-2 text-left"><span>map</span> <div class="flex flex-wrap gap-1"></div></div>');function _t(t,e){B(e,!0);let a=q(-1);function s(f){U(a,f,!0),d.map=I.get("map")[f]}function c(f,m){const p=I.get("map");f.preventDefault(),I.set("map",p.toSpliced(m,1))}var o=pt(),v=i(k(o),2);J(v,21,()=>I.get("map"),L,(f,m,p)=>{{let l=C(()=>p===n(a));E(f,{get name(){return n(m)},get selected(){return n(l)},onclick:()=>s(p),oncontextmenu:r=>c(r,p)})}}),g(v),g(o),b(t,o),D()}const de=(t,e=pe)=>{var a=kt();R(()=>te(a,1,`border-palegrey my-2 self-center border-1 border-solid ${e()??""}`)),b(t,a)};var kt=y("<hr/>"),ht=y('<div class="flex size-full justify-center"><div class="bg-paleblack my-8 flex w-2xl flex-col items-center gap-2 rounded-md p-4 text-center text-lg"><span class="text-lavender mb-4">tourney overlay</span> <div class="flex flex-col"><!> <!> <!> <!></div> <!> <!> <div class="flex w-full"><!> <!></div> <!> <!></div></div>');function Bt(t,e){B(e,!0);let a=q(!1);ye(()=>{for(const[P,_]of I){const w=JSON.parse(localStorage.getItem(`saved_${P}s`));w&&I.set(P,w)}U(a,!0)}),ce(()=>{if(n(a))for(const[P,_]of I)localStorage.setItem(`saved_${P}s`,JSON.stringify(_))}),ce(()=>{for(const[P,_]of Object.entries(d))localStorage.setItem(P,JSON.stringify(_))});var s=ht(),c=k(s),o=i(k(c),2),v=k(o);Ge(v,{});var f=i(v,2);de(f,()=>"w-96");var m=i(f,2);vt(m,{});var p=i(m,2);de(p,()=>"w-96"),g(o);var l=i(o,2);{var r=P=>{dt(P,{})};F(l,P=>{d.useWebSocket&&d.useWebSocketToken!=""&&P(r)})}var u=i(l,2);Ve(u,{});var x=i(u,2),O=k(x);ve(O,{side:"left"});var T=i(O,2);ve(T,{side:"right"}),g(x);var V=i(x,2);_t(V,{});var h=i(V,2);gt(h,{}),g(c),g(s),b(t,s),D()}export{Bt as component};
