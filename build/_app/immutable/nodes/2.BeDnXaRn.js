import"../chunks/DsnmJJEf.js";import{o as he}from"../chunks/BQENptih.js";import{aL as be,I as X,o as de,e as fe,a_ as ge,T as N,O as n,aq as ke,a7 as D,a8 as w,ae as h,ah as v,ad as m,a9 as C,aa as b,ab as F,x as me,R as xe,ac as W,b0 as we,ag as $,ai as E,af as pe,b1 as ye,u as ie}from"../chunks/C5iaGlt3.js";import{a as te,e as J,i as K,s as g,c as S,d as Se}from"../chunks/ywRo9idj.js";import{i as Ie}from"../chunks/_3BVLoJZ.js";import{l as _e,d as H,s as L,e as Oe}from"../chunks/B6sb4OC6.js";import{i as M}from"../chunks/BdoiaCqU.js";import{t as A,s as le,f as Te,k as oe,a as G,r as ee}from"../chunks/BRV0_4J4.js";import{p as V}from"../chunks/Dc5slHCv.js";function ce(t,e,r=e){var s=be(),u=new WeakSet;_e(t,"input",l=>{var c=l?t.defaultValue:t.value;if(c=ne(t)?se(c):c,r(c),X!==null&&u.add(X),s&&c!==(c=e())){var d=t.selectionStart,f=t.selectionEnd;t.value=c??"",f!==null&&(t.selectionStart=d,t.selectionEnd=Math.min(f,t.value.length))}}),(de&&t.defaultValue!==t.value||fe(e)==null&&t.value)&&(r(ne(t)?se(t.value):t.value),X!==null&&u.add(X)),ge(()=>{var l=e();t===document.activeElement&&u.has(X)||ne(t)&&l===se(t.value)||t.type==="date"&&!l&&!t.value||l!==t.value&&(t.value=l??"")})}function Pe(t,e,r=e){_e(t,"change",s=>{var u=s?t.defaultChecked:t.checked;r(u)}),(de&&t.defaultChecked!==t.checked||fe(e)==null)&&r(t.checked),ge(()=>{var s=e();t.checked=!!s})}function ne(t){var e=t.type;return e==="number"||e==="range"}function se(t){return t===""?null:+t}function Re(t){var e=ke(0);return function(){return arguments.length===1?(N(e,n(e)+1),arguments[0]):(n(e),t())}}var We=w('<img class="ml-1 flex h-6 self-center" alt=""/>'),Ce=w('<a class="flex h-6 self-center" target="_blank"><img class="ml-1 h-6" src="https://i.imgur.com/sf1ckIB.png" alt=""/></a>'),Be=w("<button> <!> <!></button>");function U(t,e){D(e,!0);const r=(_,B=me)=>{var k=We();C(()=>le(k,"src",`https://countryflagsapi.netlify.app/flag/${e.name??""}.svg`)),b(_,k)},s=_=>{var B=Ce();C(()=>le(B,"href",`https://steamcommunity.com/profiles/[U:1:${l()??""}]`)),b(_,B)};let u=V(e,"withFlag",3,!1),l=V(e,"withSteamID",3,""),c=V(e,"isFont",3,!1),d=V(e,"isBestOf",3,!1),f=V(e,"selected",3,!1),p=V(e,"onclick",3,null),o=V(e,"oncontextmenu",3,null);var a=Be();a.__click=function(..._){p()?.apply(this,_)},a.__contextmenu=function(..._){o()?.apply(this,_)};var i=h(a),y=v(i);{var I=_=>{s(_)};M(y,_=>{l()&&_(I)})}var P=v(y,2);{var R=_=>{r(_,()=>e.name)};M(P,_=>{u()&&_(R)})}m(a),C(_=>{te(a,1,`${_??""}
    ${d()?"px-3":"px-2"}
    ${f()?"brightness-100":"brightness-50 hover:brightness-100"} bg-lavender text-paleblack hover:bg-lavender border-darklavender flex w-fit rounded-md border-b-2 transition-all hover:cursor-pointer`),L(i,`${e.name??""} `)},[()=>c()?`font-${e.name.toLowerCase()}`:""]),A(1,a,()=>Te),b(t,a),F()}H(["click","contextmenu"]);var Y=Re(()=>g),De=w('<div class="relative flex w-96 justify-center gap-1"><span class="absolute left-0">best of</span> <!></div>');function Fe(t,e){D(e,!1);function r(l){Y(Y().bestOf=l*2+1),Y(Y().maxScore=l+1)}Ie();var s=De(),u=v(h(s),2);J(u,0,()=>({length:5}),K,(l,c,d)=>{{let f=xe(()=>(Y().bestOf-1)/2===d);U(l,{name:d*2+1,isBestOf:!0,get selected(){return n(f)},onclick:()=>r(d)})}}),m(s),b(t,s),F()}function Ve(t,e){S.set(e.category,[])}var Me=w('<button class=" hover:text-salmon absolute right-0 brightness-50 transition-all hover:cursor-pointer hover:underline hover:brightness-100">remove all</button>');function je(t,e){D(e,!0);var r=Me();r.__click=[Ve,e],b(t,r),F()}H(["click"]);const Ne=t=>{var e=Ee();b(t,e)};var Ee=we('<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></g></svg>'),Le=w('<a class="hover:text-lavender absolute left-0 flex gap-1" href="https://countryflagsapi.netlify.app/country-list" target="_blank"><span> </span> <span class="self-center"><!></span></a>'),Ue=w('<span class="absolute left-0 flex"> </span>'),qe=w('<div class="relative flex w-96 justify-center"><!> <input type="text"/> <!></div>');function ze(t,e){let r=V(e,"onkeypress",3,null),s=W(()=>e.category==="flag");var u=qe(),l=h(u);{var c=o=>{var a=Le(),i=h(a),y=h(i);m(i);var I=v(i,2),P=h(I);Ne(P),m(I),m(a),C(()=>L(y,`add ${e.category??""}`)),b(o,a)},d=o=>{var a=Ue(),i=h(a);m(a),C(()=>L(i,`add ${e.category??""}`)),b(o,a)};M(l,o=>{n(s)?o(c):o(d,!1)})}var f=v(l,2),p=v(f,2);je(p,{get category(){return e.category}}),m(u),C(()=>le(f,"placeholder",n(s)?"alpha-2 code":"")),Oe("keypress",f,function(...o){r()?.apply(this,o)}),b(t,u)}var Je=(t,e)=>N(e,!n(e)),Ke=w('<button class="text-lavender flex w-96 cursor-pointer self-center text-left"> </button>'),Ae=w('<div class="flex w-96 flex-col gap-0.5 self-center"></div>'),Ge=w("<!> <!>",1);function He(t,e){D(e,!0);let r=E(!0),s=W(()=>n(r)?"˅":">");function u(p,o){const a=p.target.value;if(p.key==="Enter"&&a.length>0){const i=S.get(o);if(o==="name")if(g.useWebSocket&&g.useWebSocketToken!==""){const y=/^\d+$/,I=prompt(`ID portion of ${a}'s steamID3
retrievable from https://steamid.uk/
ex [U:1:123456789] -> 123456789`);y.test(I)&&S.set("name",i.concat([{name:a,steamid:I}]))}else S.set("name",i.concat([{name:a}]));else o==="flag"&&a.length===2?S.set("flag",i.concat([a.toUpperCase()])):S.set(o,i.concat([a]));p.target.value=""}}var l=Ge(),c=$(l);oe(c,()=>n(r),p=>{var o=Ke();o.__click=[Je,r];var a=h(o);m(o),C(()=>L(a,`${n(s)??""} buttons`)),b(p,o)});var d=v(c,2);{var f=p=>{var o=Ae();J(o,21,()=>S,K,(a,i)=>{var y=W(()=>ye(n(i),2));let I=()=>n(y)[0];var P=pe(),R=$(P);{var _=k=>{},B=k=>{ze(k,{get category(){return I()},onkeypress:O=>u(O,I())})};M(R,k=>{!g.useTeams&&I()==="team"?k(_):k(B,!1)})}b(a,P)}),m(o),A(3,o,()=>G,()=>({duration:250})),b(p,o)};M(d,p=>{n(r)&&p(f)})}b(t,l),F()}H(["click"]);var Qe=w('<div class="relative"><span class="absolute left-18">PR</span> <input class="w-32" type="text"/></div>');function Xe(t,e){D(e,!0);let r=V(e,"value",15);var s=Qe(),u=v(h(s),2);ee(u),m(s),ce(u,r),A(3,s,()=>G,()=>({duration:250})),b(t,s),F()}var Ye=w('<div class="button brightness-100 svelte-1um5dd4"> </div>'),Ze=w('<div class="flex w-fit overflow-hidden rounded-md"><button class="button text-xl brightness-50 svelte-1um5dd4">+</button> <!> <button class="button text-xl brightness-50 svelte-1um5dd4">-</button></div>');function $e(t,e){D(e,!0);let r=W(()=>e.side+"Score");function s(f){g[n(r)]=f<=0?0:f>g.maxScore?g.maxScore:f}var u=Ze(),l=h(u);l.__click=()=>s(g[n(r)]+1);var c=v(l,2);oe(c,()=>g[n(r)],f=>{var p=Ye(),o=h(p,!0);m(p),C(()=>L(o,g[n(r)])),b(f,p)});var d=v(c,2);d.__click=()=>s(g[n(r)]-1),m(u),b(t,u),F()}H(["click"]);var et=w('<span>team</span> <div class="flex flex-wrap gap-1 px-2"></div>',1),tt=w('<div><span> </span> <div class="flex flex-wrap gap-1 px-2"></div> <span>flag</span> <div class="flex flex-wrap gap-1 px-2"></div> <!> <!> <div class="flex w-full justify-center"><!></div></div>');function ve(t,e){D(e,!0);let r=W(()=>e.side==="left"),s=E(-1),u=E(-1),l=E(-1);function c(k,O){const T=e.side+k;switch(g[T]=S.get(k.toLowerCase())[O],k){case"Name":N(s,O,!0);break;case"Flag":N(u,O,!0);break;case"Team":N(l,O,!0);break}}function d(k,O,T){const x=S.get(O);k.preventDefault(),S.set(O,x.toSpliced(T,1))}var f=tt(),p=h(f),o=h(p);m(p);var a=v(p,2);J(a,21,()=>S.get("name"),K,(k,O,T)=>{var x=pe(),j=$(x);{var q=z=>{{let ae=W(()=>T===n(s));U(z,{get withSteamID(){return n(O).steamid},get name(){return n(O).name},get selected(){return n(ae)},onclick:()=>c("Name",T),oncontextmenu:re=>d(re,"name",T)})}},Q=z=>{{let ae=W(()=>T===n(s));U(z,{get name(){return n(O).name},get selected(){return n(ae)},onclick:()=>c("Name",T),oncontextmenu:re=>d(re,"name",T)})}};M(j,z=>{n(O).steamid?z(q):z(Q,!1)})}b(k,x)}),m(a);var i=v(a,4);J(i,21,()=>S.get("flag"),K,(k,O,T)=>{{let x=W(()=>T===n(u));U(k,{get name(){return n(O)},withFlag:!0,get selected(){return n(x)},onclick:()=>c("Flag",T),oncontextmenu:j=>d(j,"flag",T)})}}),m(i);var y=v(i,2);{var I=k=>{var O=et(),T=v($(O),2);J(T,21,()=>S.get("team"),K,(x,j,q)=>{{let Q=W(()=>q===n(l));U(x,{get name(){return n(j)},get selected(){return n(Q)},onclick:()=>c("Team",q),oncontextmenu:z=>d(z,"team",q)})}}),m(T),b(k,O)};M(y,k=>{g.useTeams&&k(I)})}var P=v(y,2);{var R=k=>{Xe(k,{get value(){return g[e.side+"PR"]},set value(O){g[e.side+"PR"]=O}})};M(P,k=>{g.usePR&&k(R)})}var _=v(P,2),B=h(_);$e(B,{get side(){return e.side}}),m(_),m(f),C(()=>{te(f,1,`flex w-full flex-col gap-2 ${n(r)?"border-palegrey border-r-2":""}`),L(o,`${e.side??""} name`)}),b(t,f),F()}var at=w('<div class="flex flex-wrap"><input type="text" placeholder="token"/> <!> <div class="w-full"></div> <span class="text-palewhite/75 rounded-md bg-black px-1"> </span></div>'),rt=w('<div class="flex flex-row flex-wrap gap-1"><input class="checked:bg-lavender border-palewhite inset-ring-paleblack size-6 cursor-pointer appearance-none self-center rounded-sm border-2 inset-ring-2 transition-colors select-none" type="checkbox"/> <span> </span> <!></div>');function Z(t,e){D(e,!0);let r=V(e,"WebSocket",3,!1),s=V(e,"checked",15),u=E("");var l=rt(),c=h(l);ee(c);var d=v(c,2),f=h(d,!0);m(d);var p=v(d,2);{var o=a=>{var i=at(),y=h(i);ee(y);var I=v(y,2);{let _=W(()=>g.useWebSocketToken!=="");U(I,{name:"set",get selected(){return n(_)},onclick:()=>{g.useWebSocketToken=n(u)}})}var P=v(I,4),R=h(P);m(P),m(i),C(()=>L(R,`token: ${g.useWebSocketToken??""}`)),ce(y,()=>n(u),_=>N(u,_)),A(3,i,()=>G,()=>({duration:250})),b(a,i)};M(p,a=>{r()&&g.useWebSocket&&a(o)})}m(l),C(()=>L(f,e.description)),Pe(c,s),A(3,l,()=>G,()=>({duration:250})),b(t,l),F()}var nt=w('<div class="flex flex-col"><span class="w-full text-left">hue rotation</span> <div class="flex items-center gap-1"><div></div> <span class="w-10"> </span> <input class=" accent-lavender bg-grey h-2 w-64 cursor-pointer appearance-none rounded-full" type="range" min="0" max="360" step="10"/></div></div>');function st(t,e){D(e,!0);let r=V(e,"value",15);var s=nt(),u=v(h(s),2),l=h(u),c=v(l,2),d=h(c);m(c);var f=v(c,2);ee(f),m(u),m(s),C(()=>{te(l,1,`bg-overlay-orange hue-rotate-${r()??""} border-palewhite inset-ring-paleblack size-6 rounded-sm border-2 inset-ring-2 transition-colors select-none`),L(d,`${r()??""}°`)}),ce(f,r),A(3,s,()=>G,()=>({duration:250})),b(t,s),F()}var lt=(t,e)=>N(e,!n(e)),ot=w('<button class="text-lavender flex w-96 cursor-pointer self-center text-left"> </button>'),ct=w('<div class="flex w-96 flex-col gap-0.5 self-center"><span class="text-left">font</span> <div class="flex gap-1"></div> <!> <!> <!> <!> <!> <!></div>'),it=w("<!> <!>",1);function vt(t,e){D(e,!0);const r=["UbuntuMono","Lexend","Montserrat"];let s=E(!0),u=W(()=>n(s)?"˅":">"),l=E(1);function c(a){N(l,a,!0),g.font=r[a]}var d=it(),f=$(d);oe(f,()=>n(s),a=>{var i=ot();i.__click=[lt,s];var y=h(i);m(i),C(()=>L(y,`${n(u)??""} overlay`)),b(a,i)});var p=v(f,2);{var o=a=>{var i=ct(),y=v(h(i),2);J(y,21,()=>r,K,(x,j,q)=>{{let Q=W(()=>q===n(l));U(x,{get name(){return n(j)},isFont:!0,get selected(){return n(Q)},onclick:()=>c(q)})}}),m(y);var I=v(y,2);Z(I,{description:"use team colors",get checked(){return g.useTeamColors},set checked(x){g.useTeamColors=x}});var P=v(I,2);{var R=x=>{st(x,{get value(){return g.hueRotate},set value(j){g.hueRotate=j}})};M(P,x=>{g.useTeamColors||x(R)})}var _=v(P,2);Z(_,{description:"use PRs",get checked(){return g.usePR},set checked(x){g.usePR=x}});var B=v(_,2);{var k=x=>{Z(x,{description:"use teams",get checked(){return g.useTeams},set checked(j){g.useTeams=j}})};M(B,x=>{g.useSinglePOV||x(k)})}var O=v(B,2);Z(O,{description:"use single POV",get checked(){return g.useSinglePOV},set checked(x){g.useSinglePOV=x}});var T=v(O,2);Z(T,{description:"use WebSocket timer (requires token)",WebSocket:!0,get checked(){return g.useWebSocket},set checked(x){g.useWebSocket=x}}),m(i),A(3,i,()=>G,()=>({duration:250})),b(a,i)};M(p,a=>{n(s)&&a(o)})}b(t,d),F()}H(["click"]);var ut=(t,e)=>e(),dt=w('<div class="flex w-full flex-col gap-1 px-2"><div class="flex w-full gap-2"><span class="text-left">stage</span> <button class="hover:text-salmon brightness-50 transition-all hover:cursor-pointer hover:underline hover:brightness-100">(reset to default)</button></div> <div class="flex flex-wrap gap-1"></div></div>');function ft(t,e){D(e,!0);let r=E(-1);function s(o){N(r,o,!0),g.stage=S.get("stage")[o]}function u(o,a){const i=S.get("stage");o.preventDefault(),S.set("stage",i.toSpliced(a,1))}function l(){S.set("stage",Se)}var c=dt(),d=h(c),f=v(h(d),2);f.__click=[ut,l],m(d);var p=v(d,2);J(p,21,()=>S.get("stage"),K,(o,a,i)=>{{let y=W(()=>i===n(r));U(o,{get name(){return n(a)},get selected(){return n(y)},onclick:()=>s(i),oncontextmenu:I=>u(I,i)})}}),m(p),m(c),b(t,c),F()}H(["click"]);var gt=w('<div class="w-full px-2 text-left"><span>map</span> <div class="flex flex-wrap gap-1"></div></div>');function mt(t,e){D(e,!0);let r=E(-1);function s(d){N(r,d,!0),g.map=S.get("map")[d]}function u(d,f){const p=S.get("map");d.preventDefault(),S.set("map",p.toSpliced(f,1))}var l=gt(),c=v(h(l),2);J(c,21,()=>S.get("map"),K,(d,f,p)=>{{let o=W(()=>p===n(r));U(d,{get name(){return n(f)},get selected(){return n(o)},onclick:()=>s(p),oncontextmenu:a=>u(a,p)})}}),m(c),m(l),b(t,l),F()}const ue=(t,e=me)=>{var r=pt();C(()=>te(r,1,`border-palegrey my-2 self-center border-1 border-solid ${e()??""}`)),b(t,r)};var pt=w("<hr/>"),_t=w('<div class="flex size-full justify-center"><div class="bg-paleblack my-8 flex w-2xl flex-col items-center gap-2 rounded-md p-4 text-center text-lg"><span class="text-lavender mb-4">tourney overlay</span> <div class="flex flex-col"><!> <!> <!> <!></div> <!> <div class="flex w-full"><!> <!></div> <!> <!></div></div>');function Tt(t,e){D(e,!0);let r=E(!1);he(()=>{for(const[R,_]of S){const B=JSON.parse(localStorage.getItem(`saved_${R}s`));B&&S.set(R,B)}N(r,!0)}),ie(()=>{if(n(r))for(const[R,_]of S)localStorage.setItem(`saved_${R}s`,JSON.stringify(_))}),ie(()=>{for(const[R,_]of Object.entries(g))localStorage.setItem(R,JSON.stringify(_))});var s=_t(),u=h(s),l=v(h(u),2),c=h(l);He(c,{});var d=v(c,2);ue(d,()=>"w-96");var f=v(d,2);vt(f,{});var p=v(f,2);ue(p,()=>"w-96"),m(l);var o=v(l,2);Fe(o,{});var a=v(o,2),i=h(a);ve(i,{side:"left"});var y=v(i,2);ve(y,{side:"right"}),m(a);var I=v(a,2);mt(I,{});var P=v(I,2);ft(P,{}),m(u),m(s),b(t,s),F()}export{Tt as component};
